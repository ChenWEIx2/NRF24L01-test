{
    "sourceFile": "Makefile",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1624505206007,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1625675033070,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,10 +59,11 @@\n Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_tim.c \\\r\n Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_tim_ex.c \\\r\n Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_uart.c \\\r\n Core/Src/system_stm32f4xx.c \\\r\n-Core/Src/NRF24L01.c  \r\n+Core/Src/NRF24L01.c  \\\r\n \r\n+\r\n # ASM sources\r\n ASM_SOURCES =  \\\r\n startup_stm32f401xc.s\r\n \r\n@@ -120,9 +121,9 @@\n -ICore/Inc \\\r\n -IDrivers/STM32F4xx_HAL_Driver/Inc \\\r\n -IDrivers/STM32F4xx_HAL_Driver/Inc/Legacy \\\r\n -IDrivers/CMSIS/Device/ST/STM32F4xx/Include \\\r\n--IDrivers/CMSIS/Include\r\n+-IDrivers/CMSIS/Include \r\n \r\n \r\n # compile gcc flags\r\n ASFLAGS = $(MCU) $(AS_DEFS) $(AS_INCLUDES) $(OPT) -Wall -fdata-sections -ffunction-sections\r\n"
                }
            ],
            "date": 1624505206007,
            "name": "Commit-0",
            "content": "##########################################################################################################################\r\n# File automatically-generated by tool: [projectgenerator] version: [3.13.0-B3] date: [Thu Jun 24 11:22:37 CST 2021]\r\n##########################################################################################################################\r\n\r\n# ------------------------------------------------\r\n# Generic Makefile (based on gcc)\r\n#\r\n# ChangeLog :\r\n#\t2017-02-10 - Several enhancements + project update mode\r\n#   2015-07-22 - first version\r\n# ------------------------------------------------\r\n\r\n######################################\r\n# target\r\n######################################\r\nTARGET = uart\r\n\r\n\r\n######################################\r\n# building variables\r\n######################################\r\n# debug build?\r\nDEBUG = 1\r\n# optimization\r\nOPT = -Og\r\n\r\n\r\n#######################################\r\n# paths\r\n#######################################\r\n# Build path\r\nBUILD_DIR = build\r\n\r\n######################################\r\n# source\r\n######################################\r\n# C sources\r\nC_SOURCES =  \\\r\nCore/Src/main.c \\\r\nCore/Src/gpio.c \\\r\nCore/Src/spi.c \\\r\nCore/Src/usart.c \\\r\nCore/Src/stm32f4xx_it.c \\\r\nCore/Src/stm32f4xx_hal_msp.c \\\r\nDrivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c \\\r\nDrivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_rcc.c \\\r\nDrivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_rcc_ex.c \\\r\nDrivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_flash.c \\\r\nDrivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_flash_ex.c \\\r\nDrivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_flash_ramfunc.c \\\r\nDrivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_gpio.c \\\r\nDrivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_dma_ex.c \\\r\nDrivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_dma.c \\\r\nDrivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_pwr.c \\\r\nDrivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_pwr_ex.c \\\r\nDrivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c \\\r\nDrivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal.c \\\r\nDrivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_exti.c \\\r\nDrivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_tim.c \\\r\nDrivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_tim_ex.c \\\r\nDrivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_uart.c \\\r\nCore/Src/system_stm32f4xx.c \\\r\nCore/Src/NRF24L01.c  \r\n\r\n# ASM sources\r\nASM_SOURCES =  \\\r\nstartup_stm32f401xc.s\r\n\r\n\r\n#######################################\r\n# binaries\r\n#######################################\r\nPREFIX = arm-none-eabi-\r\n# The gcc compiler bin path can be either defined in make command via GCC_PATH variable (> make GCC_PATH=xxx)\r\n# either it can be added to the PATH environment variable.\r\nifdef GCC_PATH\r\nCC = $(GCC_PATH)/$(PREFIX)gcc\r\nAS = $(GCC_PATH)/$(PREFIX)gcc -x assembler-with-cpp\r\nCP = $(GCC_PATH)/$(PREFIX)objcopy\r\nSZ = $(GCC_PATH)/$(PREFIX)size\r\nelse\r\nCC = $(PREFIX)gcc\r\nAS = $(PREFIX)gcc -x assembler-with-cpp\r\nCP = $(PREFIX)objcopy\r\nSZ = $(PREFIX)size\r\nendif\r\nHEX = $(CP) -O ihex\r\nBIN = $(CP) -O binary -S\r\n \r\n#######################################\r\n# CFLAGS\r\n#######################################\r\n# cpu\r\nCPU = -mcpu=cortex-m4\r\n\r\n# fpu\r\nFPU = -mfpu=fpv4-sp-d16\r\n\r\n# float-abi\r\nFLOAT-ABI = -mfloat-abi=hard\r\n\r\n# mcu\r\nMCU = $(CPU) -mthumb $(FPU) $(FLOAT-ABI)\r\n\r\n# macros for gcc\r\n# AS defines\r\nAS_DEFS = \r\n\r\n# C defines\r\nC_DEFS =  \\\r\n-DUSE_HAL_DRIVER \\\r\n-DSTM32F401xC\r\n\r\n\r\n# AS includes\r\nAS_INCLUDES = \r\n\r\n# C includes\r\nC_INCLUDES =  \\\r\n-ICore/Inc \\\r\n-IDrivers/STM32F4xx_HAL_Driver/Inc \\\r\n-IDrivers/STM32F4xx_HAL_Driver/Inc/Legacy \\\r\n-IDrivers/CMSIS/Device/ST/STM32F4xx/Include \\\r\n-IDrivers/CMSIS/Include\r\n\r\n\r\n# compile gcc flags\r\nASFLAGS = $(MCU) $(AS_DEFS) $(AS_INCLUDES) $(OPT) -Wall -fdata-sections -ffunction-sections\r\n\r\nCFLAGS = $(MCU) $(C_DEFS) $(C_INCLUDES) $(OPT) -Wall -fdata-sections -ffunction-sections\r\n\r\nifeq ($(DEBUG), 1)\r\nCFLAGS += -g -gdwarf-2\r\nendif\r\n\r\n\r\n# Generate dependency information\r\nCFLAGS += -MMD -MP -MF\"$(@:%.o=%.d)\"\r\n\r\n\r\n#######################################\r\n# LDFLAGS\r\n#######################################\r\n# link script\r\nLDSCRIPT = STM32F401CCUx_FLASH.ld\r\n\r\n# libraries\r\nLIBS = -lc -lm -lnosys \r\nLIBDIR = \r\nLDFLAGS = $(MCU) -u _printf_float -specs=nano.specs -T$(LDSCRIPT) $(LIBDIR) $(LIBS) -Wl,-Map=$(BUILD_DIR)/$(TARGET).map,--cref -Wl,--gc-sections\r\n\r\n# default action: build all\r\nall: $(BUILD_DIR)/$(TARGET).elf $(BUILD_DIR)/$(TARGET).hex $(BUILD_DIR)/$(TARGET).bin\r\n\r\n\r\n#######################################\r\n# build the application\r\n#######################################\r\n# list of objects\r\nOBJECTS = $(addprefix $(BUILD_DIR)/,$(notdir $(C_SOURCES:.c=.o)))\r\nvpath %.c $(sort $(dir $(C_SOURCES)))\r\n# list of ASM program objects\r\nOBJECTS += $(addprefix $(BUILD_DIR)/,$(notdir $(ASM_SOURCES:.s=.o)))\r\nvpath %.s $(sort $(dir $(ASM_SOURCES)))\r\n\r\n$(BUILD_DIR)/%.o: %.c Makefile | $(BUILD_DIR) \r\n\t$(CC) -c $(CFLAGS) -Wa,-a,-ad,-alms=$(BUILD_DIR)/$(notdir $(<:.c=.lst)) $< -o $@\r\n\r\n$(BUILD_DIR)/%.o: %.s Makefile | $(BUILD_DIR)\r\n\t$(AS) -c $(CFLAGS) $< -o $@\r\n\r\n$(BUILD_DIR)/$(TARGET).elf: $(OBJECTS) Makefile\r\n\t$(CC) $(OBJECTS) $(LDFLAGS) -o $@\r\n\t$(SZ) $@\r\n\r\n$(BUILD_DIR)/%.hex: $(BUILD_DIR)/%.elf | $(BUILD_DIR)\r\n\t$(HEX) $< $@\r\n\t\r\n$(BUILD_DIR)/%.bin: $(BUILD_DIR)/%.elf | $(BUILD_DIR)\r\n\t$(BIN) $< $@\t\r\n\t\r\n$(BUILD_DIR):\r\n\tmkdir $@\t\t\r\n\r\n#######################################\r\n# clean up\r\n#######################################\r\nclean:\r\n\t-rm -fR $(BUILD_DIR)\r\n  \r\n#######################################\r\n# dependencies\r\n#######################################\r\n-include $(wildcard $(BUILD_DIR)/*.d)\r\n\r\n# *** EOF ***"
        }
    ]
}