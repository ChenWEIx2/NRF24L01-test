ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"NRF24L01.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.SPIx_ReadWriteByte,"ax",%progbits
  18              		.align	1
  19              		.global	SPIx_ReadWriteByte
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	SPIx_ReadWriteByte:
  27              	.LVL0:
  28              	.LFB133:
  29              		.file 1 "Core/Src/NRF24L01.c"
   1:Core/Src/NRF24L01.c **** /* 包含头文件 ----------------------------------------------------------------*/
   2:Core/Src/NRF24L01.c **** #include "NRF24L01.h"
   3:Core/Src/NRF24L01.c **** 
   4:Core/Src/NRF24L01.c **** /* 私有类型定义 --------------------------------------------------------------*/
   5:Core/Src/NRF24L01.c **** /* 私有宏定义 ----------------------------------------------------------------*/              
   6:Core/Src/NRF24L01.c **** /* 私有变量 ------------------------------------------------------------------*/
   7:Core/Src/NRF24L01.c **** 
   8:Core/Src/NRF24L01.c **** const uint8_t TX_ADDRESS0[] = {0xb0,0x43,0x10,0x10,0x01}; //通道0发送地址
   9:Core/Src/NRF24L01.c **** const uint8_t TX_ADDRESS1[] = {0xc1,0xaa,0xa0,0xa0,0x02}; //通道1发送地址
  10:Core/Src/NRF24L01.c **** const uint8_t TX_ADDRESS2[] = {0xd1};                     //通道2发送地址
  11:Core/Src/NRF24L01.c **** const uint8_t TX_ADDRESS3[] = {0xe1};                     //通道3发送地址
  12:Core/Src/NRF24L01.c **** 
  13:Core/Src/NRF24L01.c **** const uint8_t RX_ADDRESS0[] = {0xb0,0x43,0x10,0x10,0x01}; //通道0接收地址
  14:Core/Src/NRF24L01.c **** const uint8_t RX_ADDRESS1[] = {0xc1,0xaa,0xa0,0xa0,0x02}; //通道1接收地址
  15:Core/Src/NRF24L01.c **** const uint8_t RX_ADDRESS2[] = {0xd1};                     //通道2接收地址
  16:Core/Src/NRF24L01.c **** const uint8_t RX_ADDRESS3[] = {0xe1};                     //通道3接收地址
  17:Core/Src/NRF24L01.c **** 
  18:Core/Src/NRF24L01.c **** /* 扩展变量 ------------------------------------------------------------------*/
  19:Core/Src/NRF24L01.c **** /* 私有函数原形 --------------------------------------------------------------*/
  20:Core/Src/NRF24L01.c **** /* 函数体 --------------------------------------------------------------------*/
  21:Core/Src/NRF24L01.c **** 
  22:Core/Src/NRF24L01.c **** 
  23:Core/Src/NRF24L01.c **** /**
  24:Core/Src/NRF24L01.c ****   * 函数功能: 往串行Flash读取写入一个字节数据并接收一个字节数据
  25:Core/Src/NRF24L01.c ****   * 输入参数: byte：待发送数据
  26:Core/Src/NRF24L01.c ****   * 返 回 值: uint8_t：接收到的数据
  27:Core/Src/NRF24L01.c ****   * 说    明：无
  28:Core/Src/NRF24L01.c ****   */
  29:Core/Src/NRF24L01.c **** uint8_t SPIx_ReadWriteByte(SPI_HandleTypeDef* hspi,uint8_t byte)
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 2


  30:Core/Src/NRF24L01.c **** {
  30              		.loc 1 30 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 8
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 30 1 is_stmt 0 view .LVU1
  35 0000 00B5     		push	{lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 4
  38              		.cfi_offset 14, -4
  39 0002 85B0     		sub	sp, sp, #20
  40              	.LCFI1:
  41              		.cfi_def_cfa_offset 24
  31:Core/Src/NRF24L01.c ****   uint8_t d_read,d_send=byte;
  42              		.loc 1 31 3 is_stmt 1 view .LVU2
  43              		.loc 1 31 18 is_stmt 0 view .LVU3
  44 0004 8DF80E10 		strb	r1, [sp, #14]
  32:Core/Src/NRF24L01.c ****   if(HAL_SPI_TransmitReceive(hspi,&d_send,&d_read,1,0xFF)!=HAL_OK)
  45              		.loc 1 32 3 is_stmt 1 view .LVU4
  46              		.loc 1 32 6 is_stmt 0 view .LVU5
  47 0008 FF23     		movs	r3, #255
  48 000a 0093     		str	r3, [sp]
  49 000c 0123     		movs	r3, #1
  50 000e 0DF10F02 		add	r2, sp, #15
  51 0012 0DF10E01 		add	r1, sp, #14
  52              	.LVL1:
  53              		.loc 1 32 6 view .LVU6
  54 0016 FFF7FEFF 		bl	HAL_SPI_TransmitReceive
  55              	.LVL2:
  56              		.loc 1 32 5 view .LVU7
  57 001a 10B1     		cbz	r0, .L2
  33:Core/Src/NRF24L01.c ****   {
  34:Core/Src/NRF24L01.c ****     d_read=0xFF;
  58              		.loc 1 34 5 is_stmt 1 view .LVU8
  59              		.loc 1 34 11 is_stmt 0 view .LVU9
  60 001c FF23     		movs	r3, #255
  61 001e 8DF80F30 		strb	r3, [sp, #15]
  62              	.L2:
  35:Core/Src/NRF24L01.c ****   }
  36:Core/Src/NRF24L01.c ****   return d_read; 
  63              		.loc 1 36 3 is_stmt 1 view .LVU10
  37:Core/Src/NRF24L01.c **** }
  64              		.loc 1 37 1 is_stmt 0 view .LVU11
  65 0022 9DF80F00 		ldrb	r0, [sp, #15]	@ zero_extendqisi2
  66 0026 05B0     		add	sp, sp, #20
  67              	.LCFI2:
  68              		.cfi_def_cfa_offset 4
  69              		@ sp needed
  70 0028 5DF804FB 		ldr	pc, [sp], #4
  71              		.cfi_endproc
  72              	.LFE133:
  74              		.section	.text.NRF24L01_Write_Reg,"ax",%progbits
  75              		.align	1
  76              		.global	NRF24L01_Write_Reg
  77              		.syntax unified
  78              		.thumb
  79              		.thumb_func
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 3


  80              		.fpu fpv4-sp-d16
  82              	NRF24L01_Write_Reg:
  83              	.LVL3:
  84              	.LFB135:
  38:Core/Src/NRF24L01.c **** 
  39:Core/Src/NRF24L01.c **** /**
  40:Core/Src/NRF24L01.c ****   * 函数功能: 检测24L01是否存在
  41:Core/Src/NRF24L01.c ****   * 输入参数: 无
  42:Core/Src/NRF24L01.c ****   * 返 回 值: 0，成功;1，失败
  43:Core/Src/NRF24L01.c ****   * 说    明：无          
  44:Core/Src/NRF24L01.c ****   */ 
  45:Core/Src/NRF24L01.c **** uint8_t NRF24L01_Check(void)
  46:Core/Src/NRF24L01.c **** {
  47:Core/Src/NRF24L01.c **** 	uint8_t buf[5]={0XA5,0XA5,0XA5,0XA5,0XA5};
  48:Core/Src/NRF24L01.c **** 	uint8_t i;
  49:Core/Src/NRF24L01.c ****   
  50:Core/Src/NRF24L01.c **** 	NRF24L01_Write_Buf(NRF_WRITE_REG+TX_ADDR,buf,5);//写入5个字节的地址.	
  51:Core/Src/NRF24L01.c **** 	NRF24L01_Read_Buf(TX_ADDR,buf,5); //读出写入的地址  
  52:Core/Src/NRF24L01.c **** 	for(i=0;i<5;i++)if(buf[i]!=0XA5)break;	 							   
  53:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
  54:Core/Src/NRF24L01.c **** 	return 0;		 //检测到24L01
  55:Core/Src/NRF24L01.c **** }	 	 
  56:Core/Src/NRF24L01.c **** 
  57:Core/Src/NRF24L01.c **** /**
  58:Core/Src/NRF24L01.c ****   * 函数功能: SPI写寄存器
  59:Core/Src/NRF24L01.c ****   * 输入参数: 无
  60:Core/Src/NRF24L01.c ****   * 返 回 值: 无
  61:Core/Src/NRF24L01.c ****   * 说    明：reg:指定寄存器地址
  62:Core/Src/NRF24L01.c ****   *           
  63:Core/Src/NRF24L01.c ****   */ 
  64:Core/Src/NRF24L01.c **** uint8_t NRF24L01_Write_Reg(uint8_t reg,uint8_t value)
  65:Core/Src/NRF24L01.c **** {
  85              		.loc 1 65 1 is_stmt 1 view -0
  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 0
  88              		@ frame_needed = 0, uses_anonymous_args = 0
  89              		.loc 1 65 1 is_stmt 0 view .LVU13
  90 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  91              	.LCFI3:
  92              		.cfi_def_cfa_offset 24
  93              		.cfi_offset 3, -24
  94              		.cfi_offset 4, -20
  95              		.cfi_offset 5, -16
  96              		.cfi_offset 6, -12
  97              		.cfi_offset 7, -8
  98              		.cfi_offset 14, -4
  99 0002 0446     		mov	r4, r0
 100 0004 0D46     		mov	r5, r1
  66:Core/Src/NRF24L01.c **** 	uint8_t status;	
 101              		.loc 1 66 2 is_stmt 1 view .LVU14
  67:Core/Src/NRF24L01.c ****   NRF24L01_SPI_CS_ENABLE();                 //使能SPI传输
 102              		.loc 1 67 3 view .LVU15
 103 0006 0C4E     		ldr	r6, .L6
 104 0008 0022     		movs	r2, #0
 105 000a 4FF48051 		mov	r1, #4096
 106              	.LVL4:
 107              		.loc 1 67 3 is_stmt 0 view .LVU16
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 4


 108 000e 3046     		mov	r0, r6
 109              	.LVL5:
 110              		.loc 1 67 3 view .LVU17
 111 0010 FFF7FEFF 		bl	HAL_GPIO_WritePin
 112              	.LVL6:
  68:Core/Src/NRF24L01.c ****   status =SPIx_ReadWriteByte(&hspi_NRF24L01,reg);//发送寄存器号 
 113              		.loc 1 68 3 is_stmt 1 view .LVU18
 114              		.loc 1 68 11 is_stmt 0 view .LVU19
 115 0014 094F     		ldr	r7, .L6+4
 116 0016 2146     		mov	r1, r4
 117 0018 3846     		mov	r0, r7
 118 001a FFF7FEFF 		bl	SPIx_ReadWriteByte
 119              	.LVL7:
 120 001e 0446     		mov	r4, r0
 121              	.LVL8:
  69:Core/Src/NRF24L01.c ****   SPIx_ReadWriteByte(&hspi_NRF24L01,value);      //写入寄存器的值
 122              		.loc 1 69 3 is_stmt 1 view .LVU20
 123 0020 2946     		mov	r1, r5
 124 0022 3846     		mov	r0, r7
 125 0024 FFF7FEFF 		bl	SPIx_ReadWriteByte
 126              	.LVL9:
  70:Core/Src/NRF24L01.c ****   NRF24L01_SPI_CS_DISABLE();                 //禁止SPI传输	   
 127              		.loc 1 70 3 view .LVU21
 128 0028 0122     		movs	r2, #1
 129 002a 4FF48051 		mov	r1, #4096
 130 002e 3046     		mov	r0, r6
 131 0030 FFF7FEFF 		bl	HAL_GPIO_WritePin
 132              	.LVL10:
  71:Core/Src/NRF24L01.c ****   return(status);       			//返回状态值
 133              		.loc 1 71 3 view .LVU22
  72:Core/Src/NRF24L01.c **** }
 134              		.loc 1 72 1 is_stmt 0 view .LVU23
 135 0034 2046     		mov	r0, r4
 136 0036 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 137              	.LVL11:
 138              	.L7:
 139              		.loc 1 72 1 view .LVU24
 140              		.align	2
 141              	.L6:
 142 0038 00040240 		.word	1073873920
 143 003c 00000000 		.word	hspi2
 144              		.cfi_endproc
 145              	.LFE135:
 147              		.section	.text.NRF24L01_Read_Reg,"ax",%progbits
 148              		.align	1
 149              		.global	NRF24L01_Read_Reg
 150              		.syntax unified
 151              		.thumb
 152              		.thumb_func
 153              		.fpu fpv4-sp-d16
 155              	NRF24L01_Read_Reg:
 156              	.LVL12:
 157              	.LFB136:
  73:Core/Src/NRF24L01.c **** 
  74:Core/Src/NRF24L01.c **** /**
  75:Core/Src/NRF24L01.c ****   * 函数功能: 读取SPI寄存器值
  76:Core/Src/NRF24L01.c ****   * 输入参数: 无
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 5


  77:Core/Src/NRF24L01.c ****   * 返 回 值: 无
  78:Core/Src/NRF24L01.c ****   * 说    明：reg:要读的寄存器
  79:Core/Src/NRF24L01.c ****   *           
  80:Core/Src/NRF24L01.c ****   */ 
  81:Core/Src/NRF24L01.c **** uint8_t NRF24L01_Read_Reg(uint8_t reg)
  82:Core/Src/NRF24L01.c **** {
 158              		.loc 1 82 1 is_stmt 1 view -0
 159              		.cfi_startproc
 160              		@ args = 0, pretend = 0, frame = 0
 161              		@ frame_needed = 0, uses_anonymous_args = 0
 162              		.loc 1 82 1 is_stmt 0 view .LVU26
 163 0000 70B5     		push	{r4, r5, r6, lr}
 164              	.LCFI4:
 165              		.cfi_def_cfa_offset 16
 166              		.cfi_offset 4, -16
 167              		.cfi_offset 5, -12
 168              		.cfi_offset 6, -8
 169              		.cfi_offset 14, -4
 170 0002 0446     		mov	r4, r0
  83:Core/Src/NRF24L01.c **** 	uint8_t reg_val;	    
 171              		.loc 1 83 2 is_stmt 1 view .LVU27
  84:Core/Src/NRF24L01.c ****  	NRF24L01_SPI_CS_ENABLE();          //使能SPI传输		
 172              		.loc 1 84 3 view .LVU28
 173 0004 0C4D     		ldr	r5, .L10
 174 0006 0022     		movs	r2, #0
 175 0008 4FF48051 		mov	r1, #4096
 176 000c 2846     		mov	r0, r5
 177              	.LVL13:
 178              		.loc 1 84 3 is_stmt 0 view .LVU29
 179 000e FFF7FEFF 		bl	HAL_GPIO_WritePin
 180              	.LVL14:
  85:Core/Src/NRF24L01.c ****   SPIx_ReadWriteByte(&hspi_NRF24L01,reg);   //发送寄存器号
 181              		.loc 1 85 3 is_stmt 1 view .LVU30
 182 0012 0A4E     		ldr	r6, .L10+4
 183 0014 2146     		mov	r1, r4
 184 0016 3046     		mov	r0, r6
 185 0018 FFF7FEFF 		bl	SPIx_ReadWriteByte
 186              	.LVL15:
  86:Core/Src/NRF24L01.c ****   reg_val=SPIx_ReadWriteByte(&hspi_NRF24L01,0XFF);//读取寄存器内容
 187              		.loc 1 86 3 view .LVU31
 188              		.loc 1 86 11 is_stmt 0 view .LVU32
 189 001c FF21     		movs	r1, #255
 190 001e 3046     		mov	r0, r6
 191 0020 FFF7FEFF 		bl	SPIx_ReadWriteByte
 192              	.LVL16:
 193 0024 0446     		mov	r4, r0
 194              	.LVL17:
  87:Core/Src/NRF24L01.c ****   NRF24L01_SPI_CS_DISABLE();          //禁止SPI传输		    
 195              		.loc 1 87 3 is_stmt 1 view .LVU33
 196 0026 0122     		movs	r2, #1
 197 0028 4FF48051 		mov	r1, #4096
 198 002c 2846     		mov	r0, r5
 199 002e FFF7FEFF 		bl	HAL_GPIO_WritePin
 200              	.LVL18:
  88:Core/Src/NRF24L01.c ****   return(reg_val);           //返回状态值
 201              		.loc 1 88 3 view .LVU34
  89:Core/Src/NRF24L01.c **** }	
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 6


 202              		.loc 1 89 1 is_stmt 0 view .LVU35
 203 0032 2046     		mov	r0, r4
 204 0034 70BD     		pop	{r4, r5, r6, pc}
 205              	.LVL19:
 206              	.L11:
 207              		.loc 1 89 1 view .LVU36
 208 0036 00BF     		.align	2
 209              	.L10:
 210 0038 00040240 		.word	1073873920
 211 003c 00000000 		.word	hspi2
 212              		.cfi_endproc
 213              	.LFE136:
 215              		.section	.text.NRF24L01_Read_Buf,"ax",%progbits
 216              		.align	1
 217              		.global	NRF24L01_Read_Buf
 218              		.syntax unified
 219              		.thumb
 220              		.thumb_func
 221              		.fpu fpv4-sp-d16
 223              	NRF24L01_Read_Buf:
 224              	.LVL20:
 225              	.LFB137:
  90:Core/Src/NRF24L01.c **** 
  91:Core/Src/NRF24L01.c **** /**
  92:Core/Src/NRF24L01.c ****   * 函数功能: 在指定位置读出指定长度的数据
  93:Core/Src/NRF24L01.c ****   * 输入参数: 无
  94:Core/Src/NRF24L01.c ****   * 返 回 值: 此次读到的状态寄存器值 
  95:Core/Src/NRF24L01.c ****   * 说    明：无
  96:Core/Src/NRF24L01.c ****   *           
  97:Core/Src/NRF24L01.c ****   */ 
  98:Core/Src/NRF24L01.c **** uint8_t NRF24L01_Read_Buf(uint8_t reg,uint8_t *pBuf,uint8_t len)
  99:Core/Src/NRF24L01.c **** {
 226              		.loc 1 99 1 is_stmt 1 view -0
 227              		.cfi_startproc
 228              		@ args = 0, pretend = 0, frame = 0
 229              		@ frame_needed = 0, uses_anonymous_args = 0
 230              		.loc 1 99 1 is_stmt 0 view .LVU38
 231 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 232              	.LCFI5:
 233              		.cfi_def_cfa_offset 24
 234              		.cfi_offset 3, -24
 235              		.cfi_offset 4, -20
 236              		.cfi_offset 5, -16
 237              		.cfi_offset 6, -12
 238              		.cfi_offset 7, -8
 239              		.cfi_offset 14, -4
 240 0002 0446     		mov	r4, r0
 241 0004 0E46     		mov	r6, r1
 242 0006 1546     		mov	r5, r2
 100:Core/Src/NRF24L01.c **** 	uint8_t status,uint8_t_ctr;	   
 243              		.loc 1 100 2 is_stmt 1 view .LVU39
 101:Core/Src/NRF24L01.c ****   
 102:Core/Src/NRF24L01.c ****   NRF24L01_SPI_CS_ENABLE();           //使能SPI传输
 244              		.loc 1 102 3 view .LVU40
 245 0008 0022     		movs	r2, #0
 246              	.LVL21:
 247              		.loc 1 102 3 is_stmt 0 view .LVU41
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 7


 248 000a 4FF48051 		mov	r1, #4096
 249              	.LVL22:
 250              		.loc 1 102 3 view .LVU42
 251 000e 0D48     		ldr	r0, .L17
 252              	.LVL23:
 253              		.loc 1 102 3 view .LVU43
 254 0010 FFF7FEFF 		bl	HAL_GPIO_WritePin
 255              	.LVL24:
 103:Core/Src/NRF24L01.c ****   status=SPIx_ReadWriteByte(&hspi_NRF24L01,reg);//发送寄存器值(位置),并读取状态值   	
 256              		.loc 1 103 3 is_stmt 1 view .LVU44
 257              		.loc 1 103 10 is_stmt 0 view .LVU45
 258 0014 2146     		mov	r1, r4
 259 0016 0C48     		ldr	r0, .L17+4
 260 0018 FFF7FEFF 		bl	SPIx_ReadWriteByte
 261              	.LVL25:
 262 001c 0746     		mov	r7, r0
 263              	.LVL26:
 104:Core/Src/NRF24L01.c ****  	for(uint8_t_ctr=0;uint8_t_ctr<len;uint8_t_ctr++)
 264              		.loc 1 104 3 is_stmt 1 view .LVU46
 265              		.loc 1 104 18 is_stmt 0 view .LVU47
 266 001e 0024     		movs	r4, #0
 267              	.LVL27:
 268              	.L13:
 269              		.loc 1 104 21 is_stmt 1 discriminator 1 view .LVU48
 270              		.loc 1 104 3 is_stmt 0 discriminator 1 view .LVU49
 271 0020 AC42     		cmp	r4, r5
 272 0022 07D2     		bcs	.L16
 105:Core/Src/NRF24L01.c ****   {
 106:Core/Src/NRF24L01.c ****     pBuf[uint8_t_ctr]=SPIx_ReadWriteByte(&hspi_NRF24L01,0XFF);//读出数据
 273              		.loc 1 106 5 is_stmt 1 discriminator 3 view .LVU50
 274              		.loc 1 106 23 is_stmt 0 discriminator 3 view .LVU51
 275 0024 FF21     		movs	r1, #255
 276 0026 0848     		ldr	r0, .L17+4
 277 0028 FFF7FEFF 		bl	SPIx_ReadWriteByte
 278              	.LVL28:
 279              		.loc 1 106 22 discriminator 3 view .LVU52
 280 002c 3055     		strb	r0, [r6, r4]
 104:Core/Src/NRF24L01.c ****  	for(uint8_t_ctr=0;uint8_t_ctr<len;uint8_t_ctr++)
 281              		.loc 1 104 37 is_stmt 1 discriminator 3 view .LVU53
 104:Core/Src/NRF24L01.c ****  	for(uint8_t_ctr=0;uint8_t_ctr<len;uint8_t_ctr++)
 282              		.loc 1 104 48 is_stmt 0 discriminator 3 view .LVU54
 283 002e 0134     		adds	r4, r4, #1
 284              	.LVL29:
 104:Core/Src/NRF24L01.c ****  	for(uint8_t_ctr=0;uint8_t_ctr<len;uint8_t_ctr++)
 285              		.loc 1 104 48 discriminator 3 view .LVU55
 286 0030 E4B2     		uxtb	r4, r4
 287              	.LVL30:
 104:Core/Src/NRF24L01.c ****  	for(uint8_t_ctr=0;uint8_t_ctr<len;uint8_t_ctr++)
 288              		.loc 1 104 48 discriminator 3 view .LVU56
 289 0032 F5E7     		b	.L13
 290              	.L16:
 107:Core/Src/NRF24L01.c ****   }
 108:Core/Src/NRF24L01.c ****   NRF24L01_SPI_CS_DISABLE();       //关闭SPI传输
 291              		.loc 1 108 3 is_stmt 1 view .LVU57
 292 0034 0122     		movs	r2, #1
 293 0036 4FF48051 		mov	r1, #4096
 294 003a 0248     		ldr	r0, .L17
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 8


 295 003c FFF7FEFF 		bl	HAL_GPIO_WritePin
 296              	.LVL31:
 109:Core/Src/NRF24L01.c ****   return status;        //返回读到的状态值
 297              		.loc 1 109 3 view .LVU58
 110:Core/Src/NRF24L01.c **** }
 298              		.loc 1 110 1 is_stmt 0 view .LVU59
 299 0040 3846     		mov	r0, r7
 300 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 301              	.LVL32:
 302              	.L18:
 303              		.loc 1 110 1 view .LVU60
 304              		.align	2
 305              	.L17:
 306 0044 00040240 		.word	1073873920
 307 0048 00000000 		.word	hspi2
 308              		.cfi_endproc
 309              	.LFE137:
 311              		.section	.text.NRF24L01_Write_Buf,"ax",%progbits
 312              		.align	1
 313              		.global	NRF24L01_Write_Buf
 314              		.syntax unified
 315              		.thumb
 316              		.thumb_func
 317              		.fpu fpv4-sp-d16
 319              	NRF24L01_Write_Buf:
 320              	.LVL33:
 321              	.LFB138:
 111:Core/Src/NRF24L01.c **** 
 112:Core/Src/NRF24L01.c **** /**
 113:Core/Src/NRF24L01.c ****   * 函数功能: 在指定位置写指定长度的数据
 114:Core/Src/NRF24L01.c ****   * 输入参数: 无
 115:Core/Src/NRF24L01.c ****   * 返 回 值: 无
 116:Core/Src/NRF24L01.c ****   * 说    明：reg:寄存器(位置)  *pBuf:数据指针  len:数据长度
 117:Core/Src/NRF24L01.c ****   *           
 118:Core/Src/NRF24L01.c ****   */ 
 119:Core/Src/NRF24L01.c **** uint8_t NRF24L01_Write_Buf(uint8_t reg, uint8_t *pBuf, uint8_t len)
 120:Core/Src/NRF24L01.c **** {
 322              		.loc 1 120 1 is_stmt 1 view -0
 323              		.cfi_startproc
 324              		@ args = 0, pretend = 0, frame = 0
 325              		@ frame_needed = 0, uses_anonymous_args = 0
 326              		.loc 1 120 1 is_stmt 0 view .LVU62
 327 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 328              	.LCFI6:
 329              		.cfi_def_cfa_offset 24
 330              		.cfi_offset 3, -24
 331              		.cfi_offset 4, -20
 332              		.cfi_offset 5, -16
 333              		.cfi_offset 6, -12
 334              		.cfi_offset 7, -8
 335              		.cfi_offset 14, -4
 336 0002 0546     		mov	r5, r0
 337 0004 0C46     		mov	r4, r1
 338 0006 1646     		mov	r6, r2
 121:Core/Src/NRF24L01.c **** 	uint8_t status,uint8_t_ctr;	    
 339              		.loc 1 121 2 is_stmt 1 view .LVU63
 122:Core/Src/NRF24L01.c ****  	NRF24L01_SPI_CS_ENABLE();          //使能SPI传输
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 9


 340              		.loc 1 122 3 view .LVU64
 341 0008 0022     		movs	r2, #0
 342              	.LVL34:
 343              		.loc 1 122 3 is_stmt 0 view .LVU65
 344 000a 4FF48051 		mov	r1, #4096
 345              	.LVL35:
 346              		.loc 1 122 3 view .LVU66
 347 000e 0D48     		ldr	r0, .L24
 348              	.LVL36:
 349              		.loc 1 122 3 view .LVU67
 350 0010 FFF7FEFF 		bl	HAL_GPIO_WritePin
 351              	.LVL37:
 123:Core/Src/NRF24L01.c ****   status = SPIx_ReadWriteByte(&hspi_NRF24L01,reg);//发送寄存器值(位置),并读取状态值
 352              		.loc 1 123 3 is_stmt 1 view .LVU68
 353              		.loc 1 123 12 is_stmt 0 view .LVU69
 354 0014 2946     		mov	r1, r5
 355 0016 0C48     		ldr	r0, .L24+4
 356 0018 FFF7FEFF 		bl	SPIx_ReadWriteByte
 357              	.LVL38:
 358 001c 0746     		mov	r7, r0
 359              	.LVL39:
 124:Core/Src/NRF24L01.c ****   for(uint8_t_ctr=0; uint8_t_ctr<len; uint8_t_ctr++)
 360              		.loc 1 124 3 is_stmt 1 view .LVU70
 361              		.loc 1 124 18 is_stmt 0 view .LVU71
 362 001e 0025     		movs	r5, #0
 363              	.LVL40:
 364              	.L20:
 365              		.loc 1 124 22 is_stmt 1 discriminator 1 view .LVU72
 366              		.loc 1 124 3 is_stmt 0 discriminator 1 view .LVU73
 367 0020 B542     		cmp	r5, r6
 368 0022 07D2     		bcs	.L23
 125:Core/Src/NRF24L01.c ****   {
 126:Core/Src/NRF24L01.c ****     SPIx_ReadWriteByte(&hspi_NRF24L01,*pBuf++); //写入数据	 
 369              		.loc 1 126 5 is_stmt 1 discriminator 3 view .LVU74
 370              	.LVL41:
 371              		.loc 1 126 5 is_stmt 0 discriminator 3 view .LVU75
 372 0024 14F8011B 		ldrb	r1, [r4], #1	@ zero_extendqisi2
 373              	.LVL42:
 374              		.loc 1 126 5 discriminator 3 view .LVU76
 375 0028 0748     		ldr	r0, .L24+4
 376 002a FFF7FEFF 		bl	SPIx_ReadWriteByte
 377              	.LVL43:
 124:Core/Src/NRF24L01.c ****   for(uint8_t_ctr=0; uint8_t_ctr<len; uint8_t_ctr++)
 378              		.loc 1 124 39 is_stmt 1 discriminator 3 view .LVU77
 124:Core/Src/NRF24L01.c ****   for(uint8_t_ctr=0; uint8_t_ctr<len; uint8_t_ctr++)
 379              		.loc 1 124 50 is_stmt 0 discriminator 3 view .LVU78
 380 002e 0135     		adds	r5, r5, #1
 381              	.LVL44:
 124:Core/Src/NRF24L01.c ****   for(uint8_t_ctr=0; uint8_t_ctr<len; uint8_t_ctr++)
 382              		.loc 1 124 50 discriminator 3 view .LVU79
 383 0030 EDB2     		uxtb	r5, r5
 384              	.LVL45:
 124:Core/Src/NRF24L01.c ****   for(uint8_t_ctr=0; uint8_t_ctr<len; uint8_t_ctr++)
 385              		.loc 1 124 50 discriminator 3 view .LVU80
 386 0032 F5E7     		b	.L20
 387              	.L23:
 127:Core/Src/NRF24L01.c ****   }
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 10


 128:Core/Src/NRF24L01.c ****   NRF24L01_SPI_CS_DISABLE();       //关闭SPI传输
 388              		.loc 1 128 3 is_stmt 1 view .LVU81
 389 0034 0122     		movs	r2, #1
 390 0036 4FF48051 		mov	r1, #4096
 391 003a 0248     		ldr	r0, .L24
 392 003c FFF7FEFF 		bl	HAL_GPIO_WritePin
 393              	.LVL46:
 129:Core/Src/NRF24L01.c ****   return status;          //返回读到的状态值
 394              		.loc 1 129 3 view .LVU82
 130:Core/Src/NRF24L01.c **** }				   
 395              		.loc 1 130 1 is_stmt 0 view .LVU83
 396 0040 3846     		mov	r0, r7
 397 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 398              	.LVL47:
 399              	.L25:
 400              		.loc 1 130 1 view .LVU84
 401              		.align	2
 402              	.L24:
 403 0044 00040240 		.word	1073873920
 404 0048 00000000 		.word	hspi2
 405              		.cfi_endproc
 406              	.LFE138:
 408              		.section	.rodata.NRF24L01_Check.str1.4,"aMS",%progbits,1
 409              		.align	2
 410              	.LC0:
 411 0000 A5A5A5A5 		.ascii	"\245\245\245\245\245\000"
 411      A500
 412              		.section	.text.NRF24L01_Check,"ax",%progbits
 413              		.align	1
 414              		.global	NRF24L01_Check
 415              		.syntax unified
 416              		.thumb
 417              		.thumb_func
 418              		.fpu fpv4-sp-d16
 420              	NRF24L01_Check:
 421              	.LFB134:
  46:Core/Src/NRF24L01.c **** 	uint8_t buf[5]={0XA5,0XA5,0XA5,0XA5,0XA5};
 422              		.loc 1 46 1 is_stmt 1 view -0
 423              		.cfi_startproc
 424              		@ args = 0, pretend = 0, frame = 8
 425              		@ frame_needed = 0, uses_anonymous_args = 0
 426 0000 00B5     		push	{lr}
 427              	.LCFI7:
 428              		.cfi_def_cfa_offset 4
 429              		.cfi_offset 14, -4
 430 0002 83B0     		sub	sp, sp, #12
 431              	.LCFI8:
 432              		.cfi_def_cfa_offset 16
  47:Core/Src/NRF24L01.c **** 	uint8_t i;
 433              		.loc 1 47 2 view .LVU86
  47:Core/Src/NRF24L01.c **** 	uint8_t i;
 434              		.loc 1 47 10 is_stmt 0 view .LVU87
 435 0004 114B     		ldr	r3, .L33
 436 0006 93E80300 		ldm	r3, {r0, r1}
 437 000a 0090     		str	r0, [sp]
 438 000c 8DF80410 		strb	r1, [sp, #4]
  48:Core/Src/NRF24L01.c ****   
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 11


 439              		.loc 1 48 2 is_stmt 1 view .LVU88
  50:Core/Src/NRF24L01.c **** 	NRF24L01_Read_Buf(TX_ADDR,buf,5); //读出写入的地址  
 440              		.loc 1 50 2 view .LVU89
 441 0010 0522     		movs	r2, #5
 442 0012 6946     		mov	r1, sp
 443 0014 3020     		movs	r0, #48
 444 0016 FFF7FEFF 		bl	NRF24L01_Write_Buf
 445              	.LVL48:
  51:Core/Src/NRF24L01.c **** 	for(i=0;i<5;i++)if(buf[i]!=0XA5)break;	 							   
 446              		.loc 1 51 2 view .LVU90
 447 001a 0522     		movs	r2, #5
 448 001c 6946     		mov	r1, sp
 449 001e 1020     		movs	r0, #16
 450 0020 FFF7FEFF 		bl	NRF24L01_Read_Buf
 451              	.LVL49:
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 452              		.loc 1 52 2 view .LVU91
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 453              		.loc 1 52 7 is_stmt 0 view .LVU92
 454 0024 0023     		movs	r3, #0
 455              	.LVL50:
 456              	.L27:
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 457              		.loc 1 52 10 is_stmt 1 discriminator 3 view .LVU93
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 458              		.loc 1 52 2 is_stmt 0 discriminator 3 view .LVU94
 459 0026 042B     		cmp	r3, #4
 460 0028 08D8     		bhi	.L28
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 461              		.loc 1 52 18 is_stmt 1 discriminator 4 view .LVU95
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 462              		.loc 1 52 24 is_stmt 0 discriminator 4 view .LVU96
 463 002a 02AA     		add	r2, sp, #8
 464 002c 1A44     		add	r2, r2, r3
 465 002e 12F8082C 		ldrb	r2, [r2, #-8]	@ zero_extendqisi2
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 466              		.loc 1 52 20 discriminator 4 view .LVU97
 467 0032 A52A     		cmp	r2, #165
 468 0034 02D1     		bne	.L28
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 469              		.loc 1 52 14 is_stmt 1 discriminator 2 view .LVU98
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 470              		.loc 1 52 15 is_stmt 0 discriminator 2 view .LVU99
 471 0036 0133     		adds	r3, r3, #1
 472              	.LVL51:
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 473              		.loc 1 52 15 discriminator 2 view .LVU100
 474 0038 DBB2     		uxtb	r3, r3
 475              	.LVL52:
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 476              		.loc 1 52 15 discriminator 2 view .LVU101
 477 003a F4E7     		b	.L27
 478              	.L28:
  53:Core/Src/NRF24L01.c **** 	return 0;		 //检测到24L01
 479              		.loc 1 53 2 is_stmt 1 view .LVU102
  53:Core/Src/NRF24L01.c **** 	return 0;		 //检测到24L01
 480              		.loc 1 53 4 is_stmt 0 view .LVU103
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 12


 481 003c 052B     		cmp	r3, #5
 482 003e 03D1     		bne	.L31
  54:Core/Src/NRF24L01.c **** }	 	 
 483              		.loc 1 54 9 view .LVU104
 484 0040 0020     		movs	r0, #0
 485              	.L30:
  55:Core/Src/NRF24L01.c **** 
 486              		.loc 1 55 1 view .LVU105
 487 0042 03B0     		add	sp, sp, #12
 488              	.LCFI9:
 489              		.cfi_remember_state
 490              		.cfi_def_cfa_offset 4
 491              		@ sp needed
 492 0044 5DF804FB 		ldr	pc, [sp], #4
 493              	.L31:
 494              	.LCFI10:
 495              		.cfi_restore_state
  53:Core/Src/NRF24L01.c **** 	return 0;		 //检测到24L01
 496              		.loc 1 53 17 view .LVU106
 497 0048 0120     		movs	r0, #1
 498 004a FAE7     		b	.L30
 499              	.L34:
 500              		.align	2
 501              	.L33:
 502 004c 00000000 		.word	.LC0
 503              		.cfi_endproc
 504              	.LFE134:
 506              		.section	.text.NRF24L01_TxPacket,"ax",%progbits
 507              		.align	1
 508              		.global	NRF24L01_TxPacket
 509              		.syntax unified
 510              		.thumb
 511              		.thumb_func
 512              		.fpu fpv4-sp-d16
 514              	NRF24L01_TxPacket:
 515              	.LVL53:
 516              	.LFB139:
 131:Core/Src/NRF24L01.c **** 
 132:Core/Src/NRF24L01.c **** /**
 133:Core/Src/NRF24L01.c ****   * 函数功能: 启动NRF24L01发送一次数据
 134:Core/Src/NRF24L01.c ****   * 输入参数: 无
 135:Core/Src/NRF24L01.c ****   * 返 回 值: 发送完成状况
 136:Core/Src/NRF24L01.c ****   * 说    明：txbuf:待发送数据首地址
 137:Core/Src/NRF24L01.c ****   *           
 138:Core/Src/NRF24L01.c ****   */ 
 139:Core/Src/NRF24L01.c **** uint8_t NRF24L01_TxPacket(uint8_t *txbuf)
 140:Core/Src/NRF24L01.c **** {
 517              		.loc 1 140 1 is_stmt 1 view -0
 518              		.cfi_startproc
 519              		@ args = 0, pretend = 0, frame = 0
 520              		@ frame_needed = 0, uses_anonymous_args = 0
 521              		.loc 1 140 1 is_stmt 0 view .LVU108
 522 0000 38B5     		push	{r3, r4, r5, lr}
 523              	.LCFI11:
 524              		.cfi_def_cfa_offset 16
 525              		.cfi_offset 3, -16
 526              		.cfi_offset 4, -12
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 13


 527              		.cfi_offset 5, -8
 528              		.cfi_offset 14, -4
 529 0002 0446     		mov	r4, r0
 141:Core/Src/NRF24L01.c **** 	uint8_t sta;
 530              		.loc 1 141 2 is_stmt 1 view .LVU109
 142:Core/Src/NRF24L01.c **** 	NRF24L01_CE_LOW();
 531              		.loc 1 142 2 view .LVU110
 532 0004 184D     		ldr	r5, .L42
 533 0006 0022     		movs	r2, #0
 534 0008 4FF48061 		mov	r1, #1024
 535 000c 2846     		mov	r0, r5
 536              	.LVL54:
 537              		.loc 1 142 2 is_stmt 0 view .LVU111
 538 000e FFF7FEFF 		bl	HAL_GPIO_WritePin
 539              	.LVL55:
 143:Core/Src/NRF24L01.c ****   NRF24L01_Write_Buf(WR_TX_PLOAD,txbuf,TX_PLOAD_WIDTH);//写数据到TX BUF  32个字节
 540              		.loc 1 143 3 is_stmt 1 view .LVU112
 541 0012 2022     		movs	r2, #32
 542 0014 2146     		mov	r1, r4
 543 0016 A020     		movs	r0, #160
 544 0018 FFF7FEFF 		bl	NRF24L01_Write_Buf
 545              	.LVL56:
 144:Core/Src/NRF24L01.c ****  	NRF24L01_CE_HIGH();                                  //启动发送	 
 546              		.loc 1 144 3 view .LVU113
 547 001c 0122     		movs	r2, #1
 548 001e 4FF48061 		mov	r1, #1024
 549 0022 2846     		mov	r0, r5
 550 0024 FFF7FEFF 		bl	HAL_GPIO_WritePin
 551              	.LVL57:
 145:Core/Src/NRF24L01.c ****   
 146:Core/Src/NRF24L01.c **** 	while(NRF24L01_IRQ_PIN_READ()!=0);                   //等待发送完成
 552              		.loc 1 146 2 view .LVU114
 553              	.L36:
 554              		.loc 1 146 35 discriminator 1 view .LVU115
 555              		.loc 1 146 7 discriminator 1 view .LVU116
 556              		.loc 1 146 8 is_stmt 0 discriminator 1 view .LVU117
 557 0028 4FF48071 		mov	r1, #256
 558 002c 0F48     		ldr	r0, .L42+4
 559 002e FFF7FEFF 		bl	HAL_GPIO_ReadPin
 560              	.LVL58:
 561              		.loc 1 146 7 discriminator 1 view .LVU118
 562 0032 0028     		cmp	r0, #0
 563 0034 F8D1     		bne	.L36
 147:Core/Src/NRF24L01.c **** 	sta=NRF24L01_Read_Reg(STATUS);                       //读取状态寄存器的值	   
 564              		.loc 1 147 2 is_stmt 1 view .LVU119
 565              		.loc 1 147 6 is_stmt 0 view .LVU120
 566 0036 0720     		movs	r0, #7
 567 0038 FFF7FEFF 		bl	NRF24L01_Read_Reg
 568              	.LVL59:
 569 003c 0446     		mov	r4, r0
 570              	.LVL60:
 148:Core/Src/NRF24L01.c **** 	NRF24L01_Write_Reg(NRF_WRITE_REG+STATUS,sta);        //清除TX_DS或MAX_RT中断标志
 571              		.loc 1 148 2 is_stmt 1 view .LVU121
 572 003e 0146     		mov	r1, r0
 573 0040 2720     		movs	r0, #39
 574              	.LVL61:
 575              		.loc 1 148 2 is_stmt 0 view .LVU122
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 14


 576 0042 FFF7FEFF 		bl	NRF24L01_Write_Reg
 577              	.LVL62:
 149:Core/Src/NRF24L01.c **** 	if(sta&MAX_TX)                                       //达到最大重发次数
 578              		.loc 1 149 2 is_stmt 1 view .LVU123
 579              		.loc 1 149 4 is_stmt 0 view .LVU124
 580 0046 14F0100F 		tst	r4, #16
 581 004a 04D1     		bne	.L41
 150:Core/Src/NRF24L01.c **** 	{
 151:Core/Src/NRF24L01.c **** 		NRF24L01_Write_Reg(FLUSH_TX,0xff);                 //清除TX FIFO寄存器 
 152:Core/Src/NRF24L01.c **** 		return MAX_TX; 
 153:Core/Src/NRF24L01.c **** 	}
 154:Core/Src/NRF24L01.c **** 	if(sta&TX_OK)                                        //发送完成
 582              		.loc 1 154 2 is_stmt 1 view .LVU125
 583              		.loc 1 154 4 is_stmt 0 view .LVU126
 584 004c 14F0200F 		tst	r4, #32
 585 0050 07D1     		bne	.L39
 155:Core/Src/NRF24L01.c **** 	{
 156:Core/Src/NRF24L01.c **** 		return TX_OK;
 157:Core/Src/NRF24L01.c **** 	}
 158:Core/Src/NRF24L01.c **** 	return 0xff;                                         //其他原因发送失败
 586              		.loc 1 158 9 view .LVU127
 587 0052 FF20     		movs	r0, #255
 588              	.L38:
 159:Core/Src/NRF24L01.c **** }
 589              		.loc 1 159 1 view .LVU128
 590 0054 38BD     		pop	{r3, r4, r5, pc}
 591              	.L41:
 151:Core/Src/NRF24L01.c **** 		return MAX_TX; 
 592              		.loc 1 151 3 is_stmt 1 view .LVU129
 593 0056 FF21     		movs	r1, #255
 594 0058 E120     		movs	r0, #225
 595 005a FFF7FEFF 		bl	NRF24L01_Write_Reg
 596              	.LVL63:
 152:Core/Src/NRF24L01.c **** 	}
 597              		.loc 1 152 3 view .LVU130
 152:Core/Src/NRF24L01.c **** 	}
 598              		.loc 1 152 10 is_stmt 0 view .LVU131
 599 005e 1020     		movs	r0, #16
 600 0060 F8E7     		b	.L38
 601              	.L39:
 156:Core/Src/NRF24L01.c **** 	}
 602              		.loc 1 156 10 view .LVU132
 603 0062 2020     		movs	r0, #32
 604 0064 F6E7     		b	.L38
 605              	.L43:
 606 0066 00BF     		.align	2
 607              	.L42:
 608 0068 00040240 		.word	1073873920
 609 006c 00000240 		.word	1073872896
 610              		.cfi_endproc
 611              	.LFE139:
 613              		.section	.rodata.NRF24L01_RxPacket.str1.4,"aMS",%progbits,1
 614              		.align	2
 615              	.LC1:
 616 0000 4368616E 		.ascii	"Channel 0 read successfully!\015\000"
 616      6E656C20 
 616      30207265 
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 15


 616      61642073 
 616      75636365 
 617 001e 0000     		.align	2
 618              	.LC2:
 619 0020 6368616E 		.ascii	"channel 1 read successfully!\015\000"
 619      6E656C20 
 619      31207265 
 619      61642073 
 619      75636365 
 620 003e 0000     		.align	2
 621              	.LC3:
 622 0040 6368616E 		.ascii	"channel 2 read successfully!\015\000"
 622      6E656C20 
 622      32207265 
 622      61642073 
 622      75636365 
 623 005e 0000     		.align	2
 624              	.LC4:
 625 0060 6368616E 		.ascii	"channel 3 read successfully!\015\000"
 625      6E656C20 
 625      33207265 
 625      61642073 
 625      75636365 
 626 007e 0000     		.align	2
 627              	.LC5:
 628 0080 52656164 		.ascii	"Read successfully but unknow channel!\015\000"
 628      20737563 
 628      63657373 
 628      66756C6C 
 628      79206275 
 629 00a7 00       		.align	2
 630              	.LC6:
 631 00a8 5278204E 		.ascii	"Rx Nothing\015\000"
 631      6F746869 
 631      6E670D00 
 632              		.section	.text.NRF24L01_RxPacket,"ax",%progbits
 633              		.align	1
 634              		.global	NRF24L01_RxPacket
 635              		.syntax unified
 636              		.thumb
 637              		.thumb_func
 638              		.fpu fpv4-sp-d16
 640              	NRF24L01_RxPacket:
 641              	.LVL64:
 642              	.LFB140:
 160:Core/Src/NRF24L01.c **** 
 161:Core/Src/NRF24L01.c **** /**
 162:Core/Src/NRF24L01.c ****   * 函数功能:启动NRF24L01接收一次数据
 163:Core/Src/NRF24L01.c ****   * 输入参数: 无
 164:Core/Src/NRF24L01.c ****   * 返 回 值: 无
 165:Core/Src/NRF24L01.c ****   * 说    明：无
 166:Core/Src/NRF24L01.c ****   *           
 167:Core/Src/NRF24L01.c ****   */ 
 168:Core/Src/NRF24L01.c **** uint8_t NRF24L01_RxPacket(uint8_t *rxbuf)
 169:Core/Src/NRF24L01.c **** {
 643              		.loc 1 169 1 is_stmt 1 view -0
 644              		.cfi_startproc
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 16


 645              		@ args = 0, pretend = 0, frame = 0
 646              		@ frame_needed = 0, uses_anonymous_args = 0
 647              		.loc 1 169 1 is_stmt 0 view .LVU134
 648 0000 38B5     		push	{r3, r4, r5, lr}
 649              	.LCFI12:
 650              		.cfi_def_cfa_offset 16
 651              		.cfi_offset 3, -16
 652              		.cfi_offset 4, -12
 653              		.cfi_offset 5, -8
 654              		.cfi_offset 14, -4
 655 0002 0546     		mov	r5, r0
 170:Core/Src/NRF24L01.c **** 	uint8_t sta;		    							   
 656              		.loc 1 170 2 is_stmt 1 view .LVU135
 171:Core/Src/NRF24L01.c **** 	sta=NRF24L01_Read_Reg(STATUS);                //读取状态寄存器的值    	 
 657              		.loc 1 171 2 view .LVU136
 658              		.loc 1 171 6 is_stmt 0 view .LVU137
 659 0004 0720     		movs	r0, #7
 660              	.LVL65:
 661              		.loc 1 171 6 view .LVU138
 662 0006 FFF7FEFF 		bl	NRF24L01_Read_Reg
 663              	.LVL66:
 664 000a 0446     		mov	r4, r0
 665              	.LVL67:
 172:Core/Src/NRF24L01.c **** 	NRF24L01_Write_Reg(NRF_WRITE_REG+STATUS,sta); //清除TX_DS或MAX_RT中断标志
 666              		.loc 1 172 2 is_stmt 1 view .LVU139
 667 000c 0146     		mov	r1, r0
 668 000e 2720     		movs	r0, #39
 669              	.LVL68:
 670              		.loc 1 172 2 is_stmt 0 view .LVU140
 671 0010 FFF7FEFF 		bl	NRF24L01_Write_Reg
 672              	.LVL69:
 173:Core/Src/NRF24L01.c **** 	if(sta&RX_OK)                                 //接收到数据
 673              		.loc 1 173 2 is_stmt 1 view .LVU141
 674              		.loc 1 173 4 is_stmt 0 view .LVU142
 675 0014 14F0400F 		tst	r4, #64
 676 0018 3BD0     		beq	.L45
 174:Core/Src/NRF24L01.c **** 	{
 175:Core/Src/NRF24L01.c ****     switch (sta&0x0e)
 677              		.loc 1 175 5 is_stmt 1 view .LVU143
 678 001a 04F00E04 		and	r4, r4, #14
 679 001e 062C     		cmp	r4, #6
 680 0020 2ED8     		bhi	.L46
 681 0022 DFE804F0 		tbb	[pc, r4]
 682              	.L48:
 683 0026 04       		.byte	(.L51-.L48)/2
 684 0027 2D       		.byte	(.L46-.L48)/2
 685 0028 12       		.byte	(.L50-.L48)/2
 686 0029 2D       		.byte	(.L46-.L48)/2
 687 002a 1B       		.byte	(.L49-.L48)/2
 688 002b 2D       		.byte	(.L46-.L48)/2
 689 002c 24       		.byte	(.L47-.L48)/2
 690 002d 00       		.p2align 1
 691              	.L51:
 176:Core/Src/NRF24L01.c ****     {
 177:Core/Src/NRF24L01.c ****     case 0x00:
 178:Core/Src/NRF24L01.c ****       NRF24L01_Read_Buf(RD_RX_PLOAD,rxbuf,RX_PLOAD_WIDTH);  //读取通道0数据
 692              		.loc 1 178 7 view .LVU144
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 17


 693 002e 2022     		movs	r2, #32
 694 0030 2946     		mov	r1, r5
 695 0032 6120     		movs	r0, #97
 696 0034 FFF7FEFF 		bl	NRF24L01_Read_Buf
 697              	.LVL70:
 179:Core/Src/NRF24L01.c ****       printf("Channel 0 read successfully!\r\n");
 698              		.loc 1 179 7 view .LVU145
 699 0038 1848     		ldr	r0, .L55
 700 003a FFF7FEFF 		bl	puts
 701              	.LVL71:
 180:Core/Src/NRF24L01.c ****       break;
 702              		.loc 1 180 7 view .LVU146
 703              	.L52:
 181:Core/Src/NRF24L01.c ****     case 0x02:
 182:Core/Src/NRF24L01.c ****       NRF24L01_Read_Buf(RD_RX_PLOAD,rxbuf,RX_PLOAD_WIDTH);  //读取通道1数据
 183:Core/Src/NRF24L01.c ****       printf("channel 1 read successfully!\r\n");
 184:Core/Src/NRF24L01.c ****       break;
 185:Core/Src/NRF24L01.c ****     case 0x04:
 186:Core/Src/NRF24L01.c ****       NRF24L01_Read_Buf(RD_RX_PLOAD,rxbuf,RX_PLOAD_WIDTH);  //读取通道2数据
 187:Core/Src/NRF24L01.c ****       printf("channel 2 read successfully!\r\n");
 188:Core/Src/NRF24L01.c ****       break;
 189:Core/Src/NRF24L01.c ****     case 0x06:
 190:Core/Src/NRF24L01.c ****       NRF24L01_Read_Buf(RD_RX_PLOAD,rxbuf,RX_PLOAD_WIDTH);  //读取通道3数据
 191:Core/Src/NRF24L01.c ****       printf("channel 3 read successfully!\r\n");
 192:Core/Src/NRF24L01.c ****       break;
 193:Core/Src/NRF24L01.c ****     default:
 194:Core/Src/NRF24L01.c ****       NRF24L01_Read_Buf(RD_RX_PLOAD,rxbuf,RX_PLOAD_WIDTH);  //读取数据
 195:Core/Src/NRF24L01.c ****       printf("Read successfully but unknow channel!\r\n");
 196:Core/Src/NRF24L01.c ****       break;
 197:Core/Src/NRF24L01.c ****     }
 198:Core/Src/NRF24L01.c **** 		
 199:Core/Src/NRF24L01.c **** 		NRF24L01_Write_Reg(FLUSH_RX,0xff);                      //清除RX FIFO寄存器 
 704              		.loc 1 199 3 view .LVU147
 705 003e FF21     		movs	r1, #255
 706 0040 E220     		movs	r0, #226
 707 0042 FFF7FEFF 		bl	NRF24L01_Write_Reg
 708              	.LVL72:
 200:Core/Src/NRF24L01.c **** 		return 0; 
 709              		.loc 1 200 3 view .LVU148
 710              		.loc 1 200 10 is_stmt 0 view .LVU149
 711 0046 0020     		movs	r0, #0
 712              	.L53:
 201:Core/Src/NRF24L01.c **** 	}
 202:Core/Src/NRF24L01.c ****   printf("Rx Nothing\r\n");	
 203:Core/Src/NRF24L01.c **** 	return 1; //没收到任何数据
 204:Core/Src/NRF24L01.c **** }					    
 713              		.loc 1 204 1 view .LVU150
 714 0048 38BD     		pop	{r3, r4, r5, pc}
 715              	.LVL73:
 716              	.L50:
 182:Core/Src/NRF24L01.c ****       printf("channel 1 read successfully!\r\n");
 717              		.loc 1 182 7 is_stmt 1 view .LVU151
 718 004a 2022     		movs	r2, #32
 719 004c 2946     		mov	r1, r5
 720 004e 6120     		movs	r0, #97
 721 0050 FFF7FEFF 		bl	NRF24L01_Read_Buf
 722              	.LVL74:
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 18


 183:Core/Src/NRF24L01.c ****       break;
 723              		.loc 1 183 7 view .LVU152
 724 0054 1248     		ldr	r0, .L55+4
 725 0056 FFF7FEFF 		bl	puts
 726              	.LVL75:
 184:Core/Src/NRF24L01.c ****     case 0x04:
 727              		.loc 1 184 7 view .LVU153
 728 005a F0E7     		b	.L52
 729              	.L49:
 186:Core/Src/NRF24L01.c ****       printf("channel 2 read successfully!\r\n");
 730              		.loc 1 186 7 view .LVU154
 731 005c 2022     		movs	r2, #32
 732 005e 2946     		mov	r1, r5
 733 0060 6120     		movs	r0, #97
 734 0062 FFF7FEFF 		bl	NRF24L01_Read_Buf
 735              	.LVL76:
 187:Core/Src/NRF24L01.c ****       break;
 736              		.loc 1 187 7 view .LVU155
 737 0066 0F48     		ldr	r0, .L55+8
 738 0068 FFF7FEFF 		bl	puts
 739              	.LVL77:
 188:Core/Src/NRF24L01.c ****     case 0x06:
 740              		.loc 1 188 7 view .LVU156
 741 006c E7E7     		b	.L52
 742              	.L47:
 190:Core/Src/NRF24L01.c ****       printf("channel 3 read successfully!\r\n");
 743              		.loc 1 190 7 view .LVU157
 744 006e 2022     		movs	r2, #32
 745 0070 2946     		mov	r1, r5
 746 0072 6120     		movs	r0, #97
 747 0074 FFF7FEFF 		bl	NRF24L01_Read_Buf
 748              	.LVL78:
 191:Core/Src/NRF24L01.c ****       break;
 749              		.loc 1 191 7 view .LVU158
 750 0078 0B48     		ldr	r0, .L55+12
 751 007a FFF7FEFF 		bl	puts
 752              	.LVL79:
 192:Core/Src/NRF24L01.c ****     default:
 753              		.loc 1 192 7 view .LVU159
 754 007e DEE7     		b	.L52
 755              	.L46:
 194:Core/Src/NRF24L01.c ****       printf("Read successfully but unknow channel!\r\n");
 756              		.loc 1 194 7 view .LVU160
 757 0080 2022     		movs	r2, #32
 758 0082 2946     		mov	r1, r5
 759 0084 6120     		movs	r0, #97
 760 0086 FFF7FEFF 		bl	NRF24L01_Read_Buf
 761              	.LVL80:
 195:Core/Src/NRF24L01.c ****       break;
 762              		.loc 1 195 7 view .LVU161
 763 008a 0848     		ldr	r0, .L55+16
 764 008c FFF7FEFF 		bl	puts
 765              	.LVL81:
 196:Core/Src/NRF24L01.c ****     }
 766              		.loc 1 196 7 view .LVU162
 767 0090 D5E7     		b	.L52
 768              	.L45:
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 19


 202:Core/Src/NRF24L01.c **** 	return 1; //没收到任何数据
 769              		.loc 1 202 3 view .LVU163
 770 0092 0748     		ldr	r0, .L55+20
 771 0094 FFF7FEFF 		bl	puts
 772              	.LVL82:
 203:Core/Src/NRF24L01.c **** }					    
 773              		.loc 1 203 2 view .LVU164
 203:Core/Src/NRF24L01.c **** }					    
 774              		.loc 1 203 9 is_stmt 0 view .LVU165
 775 0098 0120     		movs	r0, #1
 776 009a D5E7     		b	.L53
 777              	.L56:
 778              		.align	2
 779              	.L55:
 780 009c 00000000 		.word	.LC1
 781 00a0 20000000 		.word	.LC2
 782 00a4 40000000 		.word	.LC3
 783 00a8 60000000 		.word	.LC4
 784 00ac 80000000 		.word	.LC5
 785 00b0 A8000000 		.word	.LC6
 786              		.cfi_endproc
 787              	.LFE140:
 789              		.section	.text.NRF24L01_RX_Mode,"ax",%progbits
 790              		.align	1
 791              		.global	NRF24L01_RX_Mode
 792              		.syntax unified
 793              		.thumb
 794              		.thumb_func
 795              		.fpu fpv4-sp-d16
 797              	NRF24L01_RX_Mode:
 798              	.LVL83:
 799              	.LFB141:
 205:Core/Src/NRF24L01.c **** 
 206:Core/Src/NRF24L01.c **** /**
 207:Core/Src/NRF24L01.c ****   * 函数功能: 该函数初始化NRF24L01到RX模式
 208:Core/Src/NRF24L01.c ****   * 输入参数: 通道号1~4
 209:Core/Src/NRF24L01.c ****   * 返 回 值: 无
 210:Core/Src/NRF24L01.c ****   * 说    明：无
 211:Core/Src/NRF24L01.c ****   *           
 212:Core/Src/NRF24L01.c ****   */ 
 213:Core/Src/NRF24L01.c **** void NRF24L01_RX_Mode(uint8_t channel)
 214:Core/Src/NRF24L01.c **** {
 800              		.loc 1 214 1 is_stmt 1 view -0
 801              		.cfi_startproc
 802              		@ args = 0, pretend = 0, frame = 0
 803              		@ frame_needed = 0, uses_anonymous_args = 0
 804              		.loc 1 214 1 is_stmt 0 view .LVU167
 805 0000 10B5     		push	{r4, lr}
 806              	.LCFI13:
 807              		.cfi_def_cfa_offset 8
 808              		.cfi_offset 4, -8
 809              		.cfi_offset 14, -4
 810 0002 0446     		mov	r4, r0
 215:Core/Src/NRF24L01.c **** 	NRF24L01_CE_LOW();
 811              		.loc 1 215 2 is_stmt 1 view .LVU168
 812 0004 0022     		movs	r2, #0
 813 0006 4FF48061 		mov	r1, #1024
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 20


 814 000a 2C48     		ldr	r0, .L66
 815              	.LVL84:
 816              		.loc 1 215 2 is_stmt 0 view .LVU169
 817 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
 818              	.LVL85:
 216:Core/Src/NRF24L01.c ****   switch (channel)
 819              		.loc 1 216 3 is_stmt 1 view .LVU170
 820 0010 032C     		cmp	r4, #3
 821 0012 48D8     		bhi	.L58
 822 0014 DFE804F0 		tbb	[pc, r4]
 823              	.L60:
 824 0018 02       		.byte	(.L63-.L60)/2
 825 0019 29       		.byte	(.L62-.L60)/2
 826 001a 33       		.byte	(.L61-.L60)/2
 827 001b 3D       		.byte	(.L59-.L60)/2
 828              		.p2align 1
 829              	.L63:
 217:Core/Src/NRF24L01.c ****   {
 218:Core/Src/NRF24L01.c ****   case 0:                                                                            //通道0
 219:Core/Src/NRF24L01.c ****     NRF24L01_Write_Reg(NRF_WRITE_REG+RX_PW_P0,RX_PLOAD_WIDTH);                       //选择通道
 830              		.loc 1 219 5 view .LVU171
 831 001c 2021     		movs	r1, #32
 832 001e 3120     		movs	r0, #49
 833 0020 FFF7FEFF 		bl	NRF24L01_Write_Reg
 834              	.LVL86:
 220:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS0,RX_ADR_WIDTH); //写RX节点
 835              		.loc 1 220 5 view .LVU172
 836 0024 0522     		movs	r2, #5
 837 0026 2649     		ldr	r1, .L66+4
 838 0028 2A20     		movs	r0, #42
 839 002a FFF7FEFF 		bl	NRF24L01_Write_Buf
 840              	.LVL87:
 221:Core/Src/NRF24L01.c ****     break;
 841              		.loc 1 221 5 view .LVU173
 842              	.L64:
 222:Core/Src/NRF24L01.c ****   case 1:                                                                            //通道1
 223:Core/Src/NRF24L01.c ****     NRF24L01_Write_Reg(NRF_WRITE_REG+RX_PW_P1,RX_PLOAD_WIDTH);                       //选择通道
 224:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P1,(uint8_t*)RX_ADDRESS1,RX_ADR_WIDTH); //写RX节点
 225:Core/Src/NRF24L01.c ****     break;
 226:Core/Src/NRF24L01.c ****   case 2:                                                                            //通道2
 227:Core/Src/NRF24L01.c ****     NRF24L01_Write_Reg(NRF_WRITE_REG+RX_PW_P2,RX_PLOAD_WIDTH);                       //选择通道
 228:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P2,(uint8_t*)RX_ADDRESS2,1);            //写RX节点
 229:Core/Src/NRF24L01.c ****     break;
 230:Core/Src/NRF24L01.c ****   case 3:                                                                            //通道3
 231:Core/Src/NRF24L01.c ****     NRF24L01_Write_Reg(NRF_WRITE_REG+RX_PW_P3,RX_PLOAD_WIDTH);                       //选择通道
 232:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P3,(uint8_t*)RX_ADDRESS3,1);            //写RX节点
 233:Core/Src/NRF24L01.c ****     break;
 234:Core/Src/NRF24L01.c ****   default:                                                                           //默认通道
 235:Core/Src/NRF24L01.c ****     NRF24L01_Write_Reg(NRF_WRITE_REG+RX_PW_P0,RX_PLOAD_WIDTH);                       //选择通道
 236:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS0,RX_ADR_WIDTH); //写RX节点
 237:Core/Src/NRF24L01.c ****     break;
 238:Core/Src/NRF24L01.c ****   }	  
 239:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+CONFIG, 0x0F);   //配置基本工作模式的参数;PWR_UP,EN_C
 843              		.loc 1 239 3 view .LVU174
 844 002e 0F21     		movs	r1, #15
 845 0030 2020     		movs	r0, #32
 846 0032 FFF7FEFF 		bl	NRF24L01_Write_Reg
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 21


 847              	.LVL88:
 240:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+EN_AA,0x3f);     //使能通道0~3的自动应答    
 848              		.loc 1 240 3 view .LVU175
 849 0036 3F21     		movs	r1, #63
 850 0038 2120     		movs	r0, #33
 851 003a FFF7FEFF 		bl	NRF24L01_Write_Reg
 852              	.LVL89:
 241:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+EN_RXADDR,0x3f); //使能通道0~3的接收地址  	 
 853              		.loc 1 241 3 view .LVU176
 854 003e 3F21     		movs	r1, #63
 855 0040 2220     		movs	r0, #34
 856 0042 FFF7FEFF 		bl	NRF24L01_Write_Reg
 857              	.LVL90:
 242:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RF_CH,40);	      //设置RF通信频率		  
 858              		.loc 1 242 3 view .LVU177
 859 0046 2821     		movs	r1, #40
 860 0048 2520     		movs	r0, #37
 861 004a FFF7FEFF 		bl	NRF24L01_Write_Reg
 862              	.LVL91:
 243:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RF_SETUP,0x0f);  //设置TX发射参数,0db增益,2Mbps,低噪
 863              		.loc 1 243 3 view .LVU178
 864 004e 0F21     		movs	r1, #15
 865 0050 2620     		movs	r0, #38
 866 0052 FFF7FEFF 		bl	NRF24L01_Write_Reg
 867              	.LVL92:
 244:Core/Src/NRF24L01.c ****   
 245:Core/Src/NRF24L01.c **** 	
 246:Core/Src/NRF24L01.c ****   NRF24L01_CE_HIGH(); //CE为高,进入接收模式 
 868              		.loc 1 246 3 view .LVU179
 869 0056 0122     		movs	r2, #1
 870 0058 4FF48061 		mov	r1, #1024
 871 005c 1748     		ldr	r0, .L66
 872 005e FFF7FEFF 		bl	HAL_GPIO_WritePin
 873              	.LVL93:
 247:Core/Src/NRF24L01.c ****   HAL_Delay(1);
 874              		.loc 1 247 3 view .LVU180
 875 0062 0120     		movs	r0, #1
 876 0064 FFF7FEFF 		bl	HAL_Delay
 877              	.LVL94:
 248:Core/Src/NRF24L01.c **** }						 
 878              		.loc 1 248 1 is_stmt 0 view .LVU181
 879 0068 10BD     		pop	{r4, pc}
 880              	.L62:
 223:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P1,(uint8_t*)RX_ADDRESS1,RX_ADR_WIDTH); //写RX节点
 881              		.loc 1 223 5 is_stmt 1 view .LVU182
 882 006a 2021     		movs	r1, #32
 883 006c 3220     		movs	r0, #50
 884 006e FFF7FEFF 		bl	NRF24L01_Write_Reg
 885              	.LVL95:
 224:Core/Src/NRF24L01.c ****     break;
 886              		.loc 1 224 5 view .LVU183
 887 0072 0522     		movs	r2, #5
 888 0074 1349     		ldr	r1, .L66+8
 889 0076 2B20     		movs	r0, #43
 890 0078 FFF7FEFF 		bl	NRF24L01_Write_Buf
 891              	.LVL96:
 225:Core/Src/NRF24L01.c ****   case 2:                                                                            //通道2
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 22


 892              		.loc 1 225 5 view .LVU184
 893 007c D7E7     		b	.L64
 894              	.L61:
 227:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P2,(uint8_t*)RX_ADDRESS2,1);            //写RX节点
 895              		.loc 1 227 5 view .LVU185
 896 007e 2021     		movs	r1, #32
 897 0080 3320     		movs	r0, #51
 898 0082 FFF7FEFF 		bl	NRF24L01_Write_Reg
 899              	.LVL97:
 228:Core/Src/NRF24L01.c ****     break;
 900              		.loc 1 228 5 view .LVU186
 901 0086 0122     		movs	r2, #1
 902 0088 0F49     		ldr	r1, .L66+12
 903 008a 2C20     		movs	r0, #44
 904 008c FFF7FEFF 		bl	NRF24L01_Write_Buf
 905              	.LVL98:
 229:Core/Src/NRF24L01.c ****   case 3:                                                                            //通道3
 906              		.loc 1 229 5 view .LVU187
 907 0090 CDE7     		b	.L64
 908              	.L59:
 231:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P3,(uint8_t*)RX_ADDRESS3,1);            //写RX节点
 909              		.loc 1 231 5 view .LVU188
 910 0092 2021     		movs	r1, #32
 911 0094 3420     		movs	r0, #52
 912 0096 FFF7FEFF 		bl	NRF24L01_Write_Reg
 913              	.LVL99:
 232:Core/Src/NRF24L01.c ****     break;
 914              		.loc 1 232 5 view .LVU189
 915 009a 0122     		movs	r2, #1
 916 009c 0B49     		ldr	r1, .L66+16
 917 009e 2D20     		movs	r0, #45
 918 00a0 FFF7FEFF 		bl	NRF24L01_Write_Buf
 919              	.LVL100:
 233:Core/Src/NRF24L01.c ****   default:                                                                           //默认通道
 920              		.loc 1 233 5 view .LVU190
 921 00a4 C3E7     		b	.L64
 922              	.L58:
 235:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS0,RX_ADR_WIDTH); //写RX节点
 923              		.loc 1 235 5 view .LVU191
 924 00a6 2021     		movs	r1, #32
 925 00a8 3120     		movs	r0, #49
 926 00aa FFF7FEFF 		bl	NRF24L01_Write_Reg
 927              	.LVL101:
 236:Core/Src/NRF24L01.c ****     break;
 928              		.loc 1 236 5 view .LVU192
 929 00ae 0522     		movs	r2, #5
 930 00b0 0349     		ldr	r1, .L66+4
 931 00b2 2A20     		movs	r0, #42
 932 00b4 FFF7FEFF 		bl	NRF24L01_Write_Buf
 933              	.LVL102:
 237:Core/Src/NRF24L01.c ****   }	  
 934              		.loc 1 237 5 view .LVU193
 935 00b8 B9E7     		b	.L64
 936              	.L67:
 937 00ba 00BF     		.align	2
 938              	.L66:
 939 00bc 00040240 		.word	1073873920
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 23


 940 00c0 00000000 		.word	.LANCHOR0
 941 00c4 00000000 		.word	.LANCHOR1
 942 00c8 00000000 		.word	.LANCHOR2
 943 00cc 00000000 		.word	.LANCHOR3
 944              		.cfi_endproc
 945              	.LFE141:
 947              		.section	.text.NRF24L01_RX_Mode_Master,"ax",%progbits
 948              		.align	1
 949              		.global	NRF24L01_RX_Mode_Master
 950              		.syntax unified
 951              		.thumb
 952              		.thumb_func
 953              		.fpu fpv4-sp-d16
 955              	NRF24L01_RX_Mode_Master:
 956              	.LFB142:
 249:Core/Src/NRF24L01.c **** 
 250:Core/Src/NRF24L01.c **** /**
 251:Core/Src/NRF24L01.c ****   * 函数功能: 该函数初始化NRF24L01到主机RX模式
 252:Core/Src/NRF24L01.c ****   * 输入参数: 无
 253:Core/Src/NRF24L01.c ****   * 返 回 值: 无
 254:Core/Src/NRF24L01.c ****   * 说    明：无
 255:Core/Src/NRF24L01.c ****   *           
 256:Core/Src/NRF24L01.c ****   */ 
 257:Core/Src/NRF24L01.c **** void NRF24L01_RX_Mode_Master(void)
 258:Core/Src/NRF24L01.c **** {
 957              		.loc 1 258 1 view -0
 958              		.cfi_startproc
 959              		@ args = 0, pretend = 0, frame = 0
 960              		@ frame_needed = 0, uses_anonymous_args = 0
 961 0000 10B5     		push	{r4, lr}
 962              	.LCFI14:
 963              		.cfi_def_cfa_offset 8
 964              		.cfi_offset 4, -8
 965              		.cfi_offset 14, -4
 259:Core/Src/NRF24L01.c **** 	NRF24L01_CE_LOW();
 966              		.loc 1 259 2 view .LVU195
 967 0002 244C     		ldr	r4, .L70
 968 0004 0022     		movs	r2, #0
 969 0006 4FF48061 		mov	r1, #1024
 970 000a 2046     		mov	r0, r4
 971 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
 972              	.LVL103:
 260:Core/Src/NRF24L01.c ****   NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS0,RX_ADR_WIDTH); //写RX节点地
 973              		.loc 1 260 3 view .LVU196
 974 0010 0522     		movs	r2, #5
 975 0012 2149     		ldr	r1, .L70+4
 976 0014 2A20     		movs	r0, #42
 977 0016 FFF7FEFF 		bl	NRF24L01_Write_Buf
 978              	.LVL104:
 261:Core/Src/NRF24L01.c ****   NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P1,(uint8_t*)RX_ADDRESS1,RX_ADR_WIDTH); //写RX节点地
 979              		.loc 1 261 3 view .LVU197
 980 001a 0522     		movs	r2, #5
 981 001c 1F49     		ldr	r1, .L70+8
 982 001e 2B20     		movs	r0, #43
 983 0020 FFF7FEFF 		bl	NRF24L01_Write_Buf
 984              	.LVL105:
 262:Core/Src/NRF24L01.c ****   NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P2,(uint8_t*)RX_ADDRESS2,1);            //写RX节点地
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 24


 985              		.loc 1 262 3 view .LVU198
 986 0024 0122     		movs	r2, #1
 987 0026 1E49     		ldr	r1, .L70+12
 988 0028 2C20     		movs	r0, #44
 989 002a FFF7FEFF 		bl	NRF24L01_Write_Buf
 990              	.LVL106:
 263:Core/Src/NRF24L01.c ****   NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P3,(uint8_t*)RX_ADDRESS3,1);            //写RX节点地
 991              		.loc 1 263 3 view .LVU199
 992 002e 0122     		movs	r2, #1
 993 0030 1C49     		ldr	r1, .L70+16
 994 0032 2D20     		movs	r0, #45
 995 0034 FFF7FEFF 		bl	NRF24L01_Write_Buf
 996              	.LVL107:
 264:Core/Src/NRF24L01.c **** 
 265:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RX_PW_P0,RX_PLOAD_WIDTH);                       //选择通道0
 997              		.loc 1 265 3 view .LVU200
 998 0038 2021     		movs	r1, #32
 999 003a 3120     		movs	r0, #49
 1000 003c FFF7FEFF 		bl	NRF24L01_Write_Reg
 1001              	.LVL108:
 266:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RX_PW_P1,RX_PLOAD_WIDTH);                       //选择通道1
 1002              		.loc 1 266 3 view .LVU201
 1003 0040 2021     		movs	r1, #32
 1004 0042 3220     		movs	r0, #50
 1005 0044 FFF7FEFF 		bl	NRF24L01_Write_Reg
 1006              	.LVL109:
 267:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RX_PW_P2,RX_PLOAD_WIDTH);                       //选择通道2
 1007              		.loc 1 267 3 view .LVU202
 1008 0048 2021     		movs	r1, #32
 1009 004a 3320     		movs	r0, #51
 1010 004c FFF7FEFF 		bl	NRF24L01_Write_Reg
 1011              	.LVL110:
 268:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RX_PW_P3,RX_PLOAD_WIDTH);                       //选择通道3
 1012              		.loc 1 268 3 view .LVU203
 1013 0050 2021     		movs	r1, #32
 1014 0052 3420     		movs	r0, #52
 1015 0054 FFF7FEFF 		bl	NRF24L01_Write_Reg
 1016              	.LVL111:
 269:Core/Src/NRF24L01.c **** 	  
 270:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+CONFIG, 0x0F);   //配置基本工作模式的参数;PWR_UP,EN_C
 1017              		.loc 1 270 3 view .LVU204
 1018 0058 0F21     		movs	r1, #15
 1019 005a 2020     		movs	r0, #32
 1020 005c FFF7FEFF 		bl	NRF24L01_Write_Reg
 1021              	.LVL112:
 271:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+EN_AA,0x0f);     //使能通道0~3的自动应答    
 1022              		.loc 1 271 3 view .LVU205
 1023 0060 0F21     		movs	r1, #15
 1024 0062 2120     		movs	r0, #33
 1025 0064 FFF7FEFF 		bl	NRF24L01_Write_Reg
 1026              	.LVL113:
 272:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+EN_RXADDR,0x0f); //使能通道0~3的接收地址  	 
 1027              		.loc 1 272 3 view .LVU206
 1028 0068 0F21     		movs	r1, #15
 1029 006a 2220     		movs	r0, #34
 1030 006c FFF7FEFF 		bl	NRF24L01_Write_Reg
 1031              	.LVL114:
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 25


 273:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RF_CH,40);	      //设置RF通信频率		  
 1032              		.loc 1 273 3 view .LVU207
 1033 0070 2821     		movs	r1, #40
 1034 0072 2520     		movs	r0, #37
 1035 0074 FFF7FEFF 		bl	NRF24L01_Write_Reg
 1036              	.LVL115:
 274:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RF_SETUP,0x0f);  //设置TX发射参数,0db增益,2Mbps,低噪
 1037              		.loc 1 274 3 view .LVU208
 1038 0078 0F21     		movs	r1, #15
 1039 007a 2620     		movs	r0, #38
 1040 007c FFF7FEFF 		bl	NRF24L01_Write_Reg
 1041              	.LVL116:
 275:Core/Src/NRF24L01.c ****   
 276:Core/Src/NRF24L01.c **** 	
 277:Core/Src/NRF24L01.c ****   NRF24L01_CE_HIGH(); //CE为高,进入接收模式 
 1042              		.loc 1 277 3 view .LVU209
 1043 0080 0122     		movs	r2, #1
 1044 0082 4FF48061 		mov	r1, #1024
 1045 0086 2046     		mov	r0, r4
 1046 0088 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1047              	.LVL117:
 278:Core/Src/NRF24L01.c ****   HAL_Delay(1);
 1048              		.loc 1 278 3 view .LVU210
 1049 008c 0120     		movs	r0, #1
 1050 008e FFF7FEFF 		bl	HAL_Delay
 1051              	.LVL118:
 279:Core/Src/NRF24L01.c **** }
 1052              		.loc 1 279 1 is_stmt 0 view .LVU211
 1053 0092 10BD     		pop	{r4, pc}
 1054              	.L71:
 1055              		.align	2
 1056              	.L70:
 1057 0094 00040240 		.word	1073873920
 1058 0098 00000000 		.word	.LANCHOR0
 1059 009c 00000000 		.word	.LANCHOR1
 1060 00a0 00000000 		.word	.LANCHOR2
 1061 00a4 00000000 		.word	.LANCHOR3
 1062              		.cfi_endproc
 1063              	.LFE142:
 1065              		.section	.text.NRF24L01_TX_Mode,"ax",%progbits
 1066              		.align	1
 1067              		.global	NRF24L01_TX_Mode
 1068              		.syntax unified
 1069              		.thumb
 1070              		.thumb_func
 1071              		.fpu fpv4-sp-d16
 1073              	NRF24L01_TX_Mode:
 1074              	.LVL119:
 1075              	.LFB143:
 280:Core/Src/NRF24L01.c **** 
 281:Core/Src/NRF24L01.c **** 
 282:Core/Src/NRF24L01.c **** /**
 283:Core/Src/NRF24L01.c ****   * 函数功能: 该函数初始化NRF24L01到TX模式
 284:Core/Src/NRF24L01.c ****   * 输入参数: 通道号0~3
 285:Core/Src/NRF24L01.c ****   * 返 回 值: 无
 286:Core/Src/NRF24L01.c ****   * 说    明：无
 287:Core/Src/NRF24L01.c ****   *           
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 26


 288:Core/Src/NRF24L01.c ****   */ 
 289:Core/Src/NRF24L01.c **** void NRF24L01_TX_Mode(uint8_t channel)
 290:Core/Src/NRF24L01.c **** {														 
 1076              		.loc 1 290 1 is_stmt 1 view -0
 1077              		.cfi_startproc
 1078              		@ args = 0, pretend = 0, frame = 0
 1079              		@ frame_needed = 0, uses_anonymous_args = 0
 1080              		.loc 1 290 1 is_stmt 0 view .LVU213
 1081 0000 10B5     		push	{r4, lr}
 1082              	.LCFI15:
 1083              		.cfi_def_cfa_offset 8
 1084              		.cfi_offset 4, -8
 1085              		.cfi_offset 14, -4
 1086 0002 0446     		mov	r4, r0
 291:Core/Src/NRF24L01.c **** 	NRF24L01_CE_LOW();
 1087              		.loc 1 291 2 is_stmt 1 view .LVU214
 1088 0004 0022     		movs	r2, #0
 1089 0006 4FF48061 		mov	r1, #1024
 1090 000a 3048     		ldr	r0, .L81
 1091              	.LVL120:
 1092              		.loc 1 291 2 is_stmt 0 view .LVU215
 1093 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
 1094              	.LVL121:
 292:Core/Src/NRF24L01.c ****   switch (channel)
 1095              		.loc 1 292 3 is_stmt 1 view .LVU216
 1096 0010 032C     		cmp	r4, #3
 1097 0012 50D8     		bhi	.L73
 1098 0014 DFE804F0 		tbb	[pc, r4]
 1099              	.L75:
 1100 0018 02       		.byte	(.L78-.L75)/2
 1101 0019 2E       		.byte	(.L77-.L75)/2
 1102 001a 39       		.byte	(.L76-.L75)/2
 1103 001b 44       		.byte	(.L74-.L75)/2
 1104              		.p2align 1
 1105              	.L78:
 293:Core/Src/NRF24L01.c ****   {
 294:Core/Src/NRF24L01.c ****   case 0:                                                                            //通道0
 295:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+TX_ADDR,(uint8_t*)TX_ADDRESS0,TX_ADR_WIDTH);    //写TX节点
 1106              		.loc 1 295 5 view .LVU217
 1107 001c 0522     		movs	r2, #5
 1108 001e 2C49     		ldr	r1, .L81+4
 1109 0020 3020     		movs	r0, #48
 1110 0022 FFF7FEFF 		bl	NRF24L01_Write_Buf
 1111              	.LVL122:
 296:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS0,RX_ADR_WIDTH); //设置RX节
 1112              		.loc 1 296 5 view .LVU218
 1113 0026 0522     		movs	r2, #5
 1114 0028 2A49     		ldr	r1, .L81+8
 1115 002a 2A20     		movs	r0, #42
 1116 002c FFF7FEFF 		bl	NRF24L01_Write_Buf
 1117              	.LVL123:
 297:Core/Src/NRF24L01.c ****     break;
 1118              		.loc 1 297 5 view .LVU219
 1119              	.L79:
 298:Core/Src/NRF24L01.c ****   case 1:                                                                            //通道1
 299:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+TX_ADDR,(uint8_t*)TX_ADDRESS1,TX_ADR_WIDTH);    //写TX节点
 300:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS1,RX_ADR_WIDTH); //设置RX节
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 27


 301:Core/Src/NRF24L01.c ****     break;
 302:Core/Src/NRF24L01.c ****   case 2:                                                                            //通道2
 303:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+TX_ADDR,(uint8_t*)TX_ADDRESS2,TX_ADR_WIDTH);    //写TX节点
 304:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS2,RX_ADR_WIDTH); //设置RX节
 305:Core/Src/NRF24L01.c ****     break;
 306:Core/Src/NRF24L01.c ****   case 3:                                                                            //通道3
 307:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+TX_ADDR,(uint8_t*)TX_ADDRESS3,TX_ADR_WIDTH);    //写TX节点
 308:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS3,RX_ADR_WIDTH); //设置RX节
 309:Core/Src/NRF24L01.c ****     break;
 310:Core/Src/NRF24L01.c ****   default:                                                                           //默认通道
 311:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+TX_ADDR,(uint8_t*)TX_ADDRESS0,1);               //写TX节点
 312:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS0,TX_ADR_WIDTH); //设置RX节
 313:Core/Src/NRF24L01.c ****     break;
 314:Core/Src/NRF24L01.c ****   }	    
 315:Core/Src/NRF24L01.c **** 	  
 316:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+EN_AA,0x01);     //使能通道0的自动应答    
 1120              		.loc 1 316 3 view .LVU220
 1121 0030 0121     		movs	r1, #1
 1122 0032 2120     		movs	r0, #33
 1123 0034 FFF7FEFF 		bl	NRF24L01_Write_Reg
 1124              	.LVL124:
 317:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+EN_RXADDR,0x01); //使能通道0的接收地址  
 1125              		.loc 1 317 3 view .LVU221
 1126 0038 0121     		movs	r1, #1
 1127 003a 2220     		movs	r0, #34
 1128 003c FFF7FEFF 		bl	NRF24L01_Write_Reg
 1129              	.LVL125:
 318:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+SETUP_RETR,0xff);//设置自动重发间隔时间:4000us + 86us;
 1130              		.loc 1 318 3 view .LVU222
 1131 0040 FF21     		movs	r1, #255
 1132 0042 2420     		movs	r0, #36
 1133 0044 FFF7FEFF 		bl	NRF24L01_Write_Reg
 1134              	.LVL126:
 319:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RF_CH,40);       //设置RF通道为40
 1135              		.loc 1 319 3 view .LVU223
 1136 0048 2821     		movs	r1, #40
 1137 004a 2520     		movs	r0, #37
 1138 004c FFF7FEFF 		bl	NRF24L01_Write_Reg
 1139              	.LVL127:
 320:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RF_SETUP,0x0f);  //设置TX发射参数,0db增益,2Mbps,低噪
 1140              		.loc 1 320 3 view .LVU224
 1141 0050 0F21     		movs	r1, #15
 1142 0052 2620     		movs	r0, #38
 1143 0054 FFF7FEFF 		bl	NRF24L01_Write_Reg
 1144              	.LVL128:
 321:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+CONFIG,0x0e);    //配置基本工作模式的参数;PWR_UP,EN_C
 1145              		.loc 1 321 3 view .LVU225
 1146 0058 0E21     		movs	r1, #14
 1147 005a 2020     		movs	r0, #32
 1148 005c FFF7FEFF 		bl	NRF24L01_Write_Reg
 1149              	.LVL129:
 322:Core/Src/NRF24L01.c **** 	NRF24L01_CE_HIGH();//CE为高,10us后启动发送
 1150              		.loc 1 322 2 view .LVU226
 1151 0060 0122     		movs	r2, #1
 1152 0062 4FF48061 		mov	r1, #1024
 1153 0066 1948     		ldr	r0, .L81
 1154 0068 FFF7FEFF 		bl	HAL_GPIO_WritePin
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 28


 1155              	.LVL130:
 323:Core/Src/NRF24L01.c ****   HAL_Delay(1);
 1156              		.loc 1 323 3 view .LVU227
 1157 006c 0120     		movs	r0, #1
 1158 006e FFF7FEFF 		bl	HAL_Delay
 1159              	.LVL131:
 324:Core/Src/NRF24L01.c **** }
 1160              		.loc 1 324 1 is_stmt 0 view .LVU228
 1161 0072 10BD     		pop	{r4, pc}
 1162              	.L77:
 299:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS1,RX_ADR_WIDTH); //设置RX节
 1163              		.loc 1 299 5 is_stmt 1 view .LVU229
 1164 0074 0522     		movs	r2, #5
 1165 0076 1849     		ldr	r1, .L81+12
 1166 0078 3020     		movs	r0, #48
 1167 007a FFF7FEFF 		bl	NRF24L01_Write_Buf
 1168              	.LVL132:
 300:Core/Src/NRF24L01.c ****     break;
 1169              		.loc 1 300 5 view .LVU230
 1170 007e 0522     		movs	r2, #5
 1171 0080 1649     		ldr	r1, .L81+16
 1172 0082 2A20     		movs	r0, #42
 1173 0084 FFF7FEFF 		bl	NRF24L01_Write_Buf
 1174              	.LVL133:
 301:Core/Src/NRF24L01.c ****   case 2:                                                                            //通道2
 1175              		.loc 1 301 5 view .LVU231
 1176 0088 D2E7     		b	.L79
 1177              	.L76:
 303:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS2,RX_ADR_WIDTH); //设置RX节
 1178              		.loc 1 303 5 view .LVU232
 1179 008a 0522     		movs	r2, #5
 1180 008c 1449     		ldr	r1, .L81+20
 1181 008e 3020     		movs	r0, #48
 1182 0090 FFF7FEFF 		bl	NRF24L01_Write_Buf
 1183              	.LVL134:
 304:Core/Src/NRF24L01.c ****     break;
 1184              		.loc 1 304 5 view .LVU233
 1185 0094 0522     		movs	r2, #5
 1186 0096 1349     		ldr	r1, .L81+24
 1187 0098 2A20     		movs	r0, #42
 1188 009a FFF7FEFF 		bl	NRF24L01_Write_Buf
 1189              	.LVL135:
 305:Core/Src/NRF24L01.c ****   case 3:                                                                            //通道3
 1190              		.loc 1 305 5 view .LVU234
 1191 009e C7E7     		b	.L79
 1192              	.L74:
 307:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS3,RX_ADR_WIDTH); //设置RX节
 1193              		.loc 1 307 5 view .LVU235
 1194 00a0 0522     		movs	r2, #5
 1195 00a2 1149     		ldr	r1, .L81+28
 1196 00a4 3020     		movs	r0, #48
 1197 00a6 FFF7FEFF 		bl	NRF24L01_Write_Buf
 1198              	.LVL136:
 308:Core/Src/NRF24L01.c ****     break;
 1199              		.loc 1 308 5 view .LVU236
 1200 00aa 0522     		movs	r2, #5
 1201 00ac 0F49     		ldr	r1, .L81+32
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 29


 1202 00ae 2A20     		movs	r0, #42
 1203 00b0 FFF7FEFF 		bl	NRF24L01_Write_Buf
 1204              	.LVL137:
 309:Core/Src/NRF24L01.c ****   default:                                                                           //默认通道
 1205              		.loc 1 309 5 view .LVU237
 1206 00b4 BCE7     		b	.L79
 1207              	.L73:
 311:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS0,TX_ADR_WIDTH); //设置RX节
 1208              		.loc 1 311 5 view .LVU238
 1209 00b6 0122     		movs	r2, #1
 1210 00b8 0549     		ldr	r1, .L81+4
 1211 00ba 3020     		movs	r0, #48
 1212 00bc FFF7FEFF 		bl	NRF24L01_Write_Buf
 1213              	.LVL138:
 312:Core/Src/NRF24L01.c ****     break;
 1214              		.loc 1 312 5 view .LVU239
 1215 00c0 0522     		movs	r2, #5
 1216 00c2 0449     		ldr	r1, .L81+8
 1217 00c4 2A20     		movs	r0, #42
 1218 00c6 FFF7FEFF 		bl	NRF24L01_Write_Buf
 1219              	.LVL139:
 313:Core/Src/NRF24L01.c ****   }	    
 1220              		.loc 1 313 5 view .LVU240
 1221 00ca B1E7     		b	.L79
 1222              	.L82:
 1223              		.align	2
 1224              	.L81:
 1225 00cc 00040240 		.word	1073873920
 1226 00d0 00000000 		.word	.LANCHOR4
 1227 00d4 00000000 		.word	.LANCHOR0
 1228 00d8 00000000 		.word	.LANCHOR5
 1229 00dc 00000000 		.word	.LANCHOR1
 1230 00e0 00000000 		.word	.LANCHOR6
 1231 00e4 00000000 		.word	.LANCHOR2
 1232 00e8 00000000 		.word	.LANCHOR7
 1233 00ec 00000000 		.word	.LANCHOR3
 1234              		.cfi_endproc
 1235              	.LFE143:
 1237              		.global	RX_ADDRESS3
 1238              		.global	RX_ADDRESS2
 1239              		.global	RX_ADDRESS1
 1240              		.global	RX_ADDRESS0
 1241              		.global	TX_ADDRESS3
 1242              		.global	TX_ADDRESS2
 1243              		.global	TX_ADDRESS1
 1244              		.global	TX_ADDRESS0
 1245              		.section	.rodata.RX_ADDRESS0,"a"
 1246              		.align	2
 1247              		.set	.LANCHOR0,. + 0
 1250              	RX_ADDRESS0:
 1251 0000 B0431010 		.ascii	"\260C\020\020\001"
 1251      01
 1252              		.section	.rodata.RX_ADDRESS1,"a"
 1253              		.align	2
 1254              		.set	.LANCHOR1,. + 0
 1257              	RX_ADDRESS1:
 1258 0000 C1AAA0A0 		.ascii	"\301\252\240\240\002"
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 30


 1258      02
 1259              		.section	.rodata.RX_ADDRESS2,"a"
 1260              		.align	2
 1261              		.set	.LANCHOR2,. + 0
 1264              	RX_ADDRESS2:
 1265 0000 D1       		.ascii	"\321"
 1266              		.section	.rodata.RX_ADDRESS3,"a"
 1267              		.align	2
 1268              		.set	.LANCHOR3,. + 0
 1271              	RX_ADDRESS3:
 1272 0000 E1       		.ascii	"\341"
 1273              		.section	.rodata.TX_ADDRESS0,"a"
 1274              		.align	2
 1275              		.set	.LANCHOR4,. + 0
 1278              	TX_ADDRESS0:
 1279 0000 B0431010 		.ascii	"\260C\020\020\001"
 1279      01
 1280              		.section	.rodata.TX_ADDRESS1,"a"
 1281              		.align	2
 1282              		.set	.LANCHOR5,. + 0
 1285              	TX_ADDRESS1:
 1286 0000 C1AAA0A0 		.ascii	"\301\252\240\240\002"
 1286      02
 1287              		.section	.rodata.TX_ADDRESS2,"a"
 1288              		.align	2
 1289              		.set	.LANCHOR6,. + 0
 1292              	TX_ADDRESS2:
 1293 0000 D1       		.ascii	"\321"
 1294              		.section	.rodata.TX_ADDRESS3,"a"
 1295              		.align	2
 1296              		.set	.LANCHOR7,. + 0
 1299              	TX_ADDRESS3:
 1300 0000 E1       		.ascii	"\341"
 1301              		.text
 1302              	.Letext0:
 1303              		.file 2 "d:\\vs_code_stm32\\9 2019-q4-major\\arm-none-eabi\\include\\machine\\_default_types.h"
 1304              		.file 3 "d:\\vs_code_stm32\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 1305              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 1306              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 1307              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xc.h"
 1308              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1309              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 1310              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1311              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 1312              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 1313              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 1314              		.file 13 "Core/Inc/usart.h"
 1315              		.file 14 "d:\\vs_code_stm32\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\lock.h"
 1316              		.file 15 "d:\\vs_code_stm32\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\_types.h"
 1317              		.file 16 "d:\\vs_code_stm32\\9 2019-q4-major\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\stddef.h"
 1318              		.file 17 "d:\\vs_code_stm32\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\reent.h"
 1319              		.file 18 "Core/Inc/NRF24L01.h"
 1320              		.file 19 "<built-in>"
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 31


DEFINED SYMBOLS
                            *ABS*:00000000 NRF24L01.c
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:18     .text.SPIx_ReadWriteByte:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:26     .text.SPIx_ReadWriteByte:00000000 SPIx_ReadWriteByte
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:75     .text.NRF24L01_Write_Reg:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:82     .text.NRF24L01_Write_Reg:00000000 NRF24L01_Write_Reg
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:142    .text.NRF24L01_Write_Reg:00000038 $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:148    .text.NRF24L01_Read_Reg:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:155    .text.NRF24L01_Read_Reg:00000000 NRF24L01_Read_Reg
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:210    .text.NRF24L01_Read_Reg:00000038 $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:216    .text.NRF24L01_Read_Buf:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:223    .text.NRF24L01_Read_Buf:00000000 NRF24L01_Read_Buf
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:306    .text.NRF24L01_Read_Buf:00000044 $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:312    .text.NRF24L01_Write_Buf:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:319    .text.NRF24L01_Write_Buf:00000000 NRF24L01_Write_Buf
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:403    .text.NRF24L01_Write_Buf:00000044 $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:409    .rodata.NRF24L01_Check.str1.4:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:413    .text.NRF24L01_Check:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:420    .text.NRF24L01_Check:00000000 NRF24L01_Check
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:502    .text.NRF24L01_Check:0000004c $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:507    .text.NRF24L01_TxPacket:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:514    .text.NRF24L01_TxPacket:00000000 NRF24L01_TxPacket
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:608    .text.NRF24L01_TxPacket:00000068 $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:614    .rodata.NRF24L01_RxPacket.str1.4:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:633    .text.NRF24L01_RxPacket:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:640    .text.NRF24L01_RxPacket:00000000 NRF24L01_RxPacket
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:683    .text.NRF24L01_RxPacket:00000026 $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:780    .text.NRF24L01_RxPacket:0000009c $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:790    .text.NRF24L01_RX_Mode:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:797    .text.NRF24L01_RX_Mode:00000000 NRF24L01_RX_Mode
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:824    .text.NRF24L01_RX_Mode:00000018 $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:828    .text.NRF24L01_RX_Mode:0000001c $t
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:939    .text.NRF24L01_RX_Mode:000000bc $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:948    .text.NRF24L01_RX_Mode_Master:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:955    .text.NRF24L01_RX_Mode_Master:00000000 NRF24L01_RX_Mode_Master
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1057   .text.NRF24L01_RX_Mode_Master:00000094 $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1066   .text.NRF24L01_TX_Mode:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1073   .text.NRF24L01_TX_Mode:00000000 NRF24L01_TX_Mode
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1100   .text.NRF24L01_TX_Mode:00000018 $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1104   .text.NRF24L01_TX_Mode:0000001c $t
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1225   .text.NRF24L01_TX_Mode:000000cc $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1271   .rodata.RX_ADDRESS3:00000000 RX_ADDRESS3
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1264   .rodata.RX_ADDRESS2:00000000 RX_ADDRESS2
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1257   .rodata.RX_ADDRESS1:00000000 RX_ADDRESS1
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1250   .rodata.RX_ADDRESS0:00000000 RX_ADDRESS0
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1299   .rodata.TX_ADDRESS3:00000000 TX_ADDRESS3
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1292   .rodata.TX_ADDRESS2:00000000 TX_ADDRESS2
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1285   .rodata.TX_ADDRESS1:00000000 TX_ADDRESS1
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1278   .rodata.TX_ADDRESS0:00000000 TX_ADDRESS0
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1246   .rodata.RX_ADDRESS0:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1253   .rodata.RX_ADDRESS1:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1260   .rodata.RX_ADDRESS2:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1267   .rodata.RX_ADDRESS3:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1274   .rodata.TX_ADDRESS0:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1281   .rodata.TX_ADDRESS1:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1288   .rodata.TX_ADDRESS2:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:1295   .rodata.TX_ADDRESS3:00000000 $d
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s 			page 32


C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:690    .text.NRF24L01_RxPacket:0000002d $d
C:\Users\Kiana\AppData\Local\Temp\ccCo3Pii.s:690    .text.NRF24L01_RxPacket:0000002e $t

UNDEFINED SYMBOLS
HAL_SPI_TransmitReceive
HAL_GPIO_WritePin
hspi2
HAL_GPIO_ReadPin
puts
HAL_Delay
