ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"NRF24L01.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.SPIx_ReadWriteByte,"ax",%progbits
  18              		.align	1
  19              		.global	SPIx_ReadWriteByte
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	SPIx_ReadWriteByte:
  27              	.LVL0:
  28              	.LFB133:
  29              		.file 1 "Core/Src/NRF24L01.c"
   1:Core/Src/NRF24L01.c **** /* 包含头文件 ----------------------------------------------------------------*/
   2:Core/Src/NRF24L01.c **** #include "NRF24L01.h"
   3:Core/Src/NRF24L01.c **** 
   4:Core/Src/NRF24L01.c **** /* 私有类型定义 --------------------------------------------------------------*/
   5:Core/Src/NRF24L01.c **** /* 私有宏定义 ----------------------------------------------------------------*/              
   6:Core/Src/NRF24L01.c **** /* 私有变量 ------------------------------------------------------------------*/
   7:Core/Src/NRF24L01.c **** 
   8:Core/Src/NRF24L01.c **** const uint8_t TX_ADDRESS0[] = {0xb0,0x43,0x10,0x10,0x01}; //通道0发送地址
   9:Core/Src/NRF24L01.c **** const uint8_t TX_ADDRESS1[] = {0xc1,0xaa,0xa0,0xa0,0x02}; //通道1发送地址
  10:Core/Src/NRF24L01.c **** const uint8_t TX_ADDRESS2[] = {0xd1,0xaa,0xa0,0xa0,0x02}; //通道2发送地址
  11:Core/Src/NRF24L01.c **** const uint8_t TX_ADDRESS3[] = {0xe1,0xaa,0xa0,0xa0,0x02}; //通道3发送地址
  12:Core/Src/NRF24L01.c **** 
  13:Core/Src/NRF24L01.c **** const uint8_t RX_ADDRESS0[] = {0xb0,0x43,0x10,0x10,0x01}; //通道0接收地址
  14:Core/Src/NRF24L01.c **** const uint8_t RX_ADDRESS1[] = {0xc1,0xaa,0xa0,0xa0,0x02}; //通道1接收地址
  15:Core/Src/NRF24L01.c **** const uint8_t RX_ADDRESS2[] = {0xd1,0xaa,0xa0,0xa0,0x02}; //通道2接收地址
  16:Core/Src/NRF24L01.c **** const uint8_t RX_ADDRESS3[] = {0xe1,0xaa,0xa0,0xa0,0x02}; //通道3接收地址
  17:Core/Src/NRF24L01.c **** 
  18:Core/Src/NRF24L01.c **** /* 扩展变量 ------------------------------------------------------------------*/
  19:Core/Src/NRF24L01.c **** /* 私有函数原形 --------------------------------------------------------------*/
  20:Core/Src/NRF24L01.c **** /* 函数体 --------------------------------------------------------------------*/
  21:Core/Src/NRF24L01.c **** 
  22:Core/Src/NRF24L01.c **** 
  23:Core/Src/NRF24L01.c **** /**
  24:Core/Src/NRF24L01.c ****   * 函数功能: 往串行Flash读取写入一个字节数据并接收一个字节数据
  25:Core/Src/NRF24L01.c ****   * 输入参数: byte：待发送数据
  26:Core/Src/NRF24L01.c ****   * 返 回 值: uint8_t：接收到的数据
  27:Core/Src/NRF24L01.c ****   * 说    明：无
  28:Core/Src/NRF24L01.c ****   */
  29:Core/Src/NRF24L01.c **** uint8_t SPIx_ReadWriteByte(SPI_HandleTypeDef* hspi,uint8_t byte)
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 2


  30:Core/Src/NRF24L01.c **** {
  30              		.loc 1 30 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 8
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 30 1 is_stmt 0 view .LVU1
  35 0000 00B5     		push	{lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 4
  38              		.cfi_offset 14, -4
  39 0002 85B0     		sub	sp, sp, #20
  40              	.LCFI1:
  41              		.cfi_def_cfa_offset 24
  31:Core/Src/NRF24L01.c ****   uint8_t d_read,d_send=byte;
  42              		.loc 1 31 3 is_stmt 1 view .LVU2
  43              		.loc 1 31 18 is_stmt 0 view .LVU3
  44 0004 8DF80E10 		strb	r1, [sp, #14]
  32:Core/Src/NRF24L01.c ****   if(HAL_SPI_TransmitReceive(hspi,&d_send,&d_read,1,0xFF)!=HAL_OK)
  45              		.loc 1 32 3 is_stmt 1 view .LVU4
  46              		.loc 1 32 6 is_stmt 0 view .LVU5
  47 0008 FF23     		movs	r3, #255
  48 000a 0093     		str	r3, [sp]
  49 000c 0123     		movs	r3, #1
  50 000e 0DF10F02 		add	r2, sp, #15
  51 0012 0DF10E01 		add	r1, sp, #14
  52              	.LVL1:
  53              		.loc 1 32 6 view .LVU6
  54 0016 FFF7FEFF 		bl	HAL_SPI_TransmitReceive
  55              	.LVL2:
  56              		.loc 1 32 5 view .LVU7
  57 001a 10B1     		cbz	r0, .L2
  33:Core/Src/NRF24L01.c ****   {
  34:Core/Src/NRF24L01.c ****     d_read=0xFF;
  58              		.loc 1 34 5 is_stmt 1 view .LVU8
  59              		.loc 1 34 11 is_stmt 0 view .LVU9
  60 001c FF23     		movs	r3, #255
  61 001e 8DF80F30 		strb	r3, [sp, #15]
  62              	.L2:
  35:Core/Src/NRF24L01.c ****   }
  36:Core/Src/NRF24L01.c ****   return d_read; 
  63              		.loc 1 36 3 is_stmt 1 view .LVU10
  37:Core/Src/NRF24L01.c **** }
  64              		.loc 1 37 1 is_stmt 0 view .LVU11
  65 0022 9DF80F00 		ldrb	r0, [sp, #15]	@ zero_extendqisi2
  66 0026 05B0     		add	sp, sp, #20
  67              	.LCFI2:
  68              		.cfi_def_cfa_offset 4
  69              		@ sp needed
  70 0028 5DF804FB 		ldr	pc, [sp], #4
  71              		.cfi_endproc
  72              	.LFE133:
  74              		.section	.text.NRF24L01_Write_Reg,"ax",%progbits
  75              		.align	1
  76              		.global	NRF24L01_Write_Reg
  77              		.syntax unified
  78              		.thumb
  79              		.thumb_func
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 3


  80              		.fpu fpv4-sp-d16
  82              	NRF24L01_Write_Reg:
  83              	.LVL3:
  84              	.LFB135:
  38:Core/Src/NRF24L01.c **** 
  39:Core/Src/NRF24L01.c **** /**
  40:Core/Src/NRF24L01.c ****   * 函数功能: 检测24L01是否存在
  41:Core/Src/NRF24L01.c ****   * 输入参数: 无
  42:Core/Src/NRF24L01.c ****   * 返 回 值: 0，成功;1，失败
  43:Core/Src/NRF24L01.c ****   * 说    明：无          
  44:Core/Src/NRF24L01.c ****   */ 
  45:Core/Src/NRF24L01.c **** uint8_t NRF24L01_Check(void)
  46:Core/Src/NRF24L01.c **** {
  47:Core/Src/NRF24L01.c **** 	uint8_t buf[5]={0XA5,0XA5,0XA5,0XA5,0XA5};
  48:Core/Src/NRF24L01.c **** 	uint8_t i;
  49:Core/Src/NRF24L01.c ****   
  50:Core/Src/NRF24L01.c **** 	NRF24L01_Write_Buf(NRF_WRITE_REG+TX_ADDR,buf,5);//写入5个字节的地址.	
  51:Core/Src/NRF24L01.c **** 	NRF24L01_Read_Buf(TX_ADDR,buf,5); //读出写入的地址  
  52:Core/Src/NRF24L01.c **** 	for(i=0;i<5;i++)if(buf[i]!=0XA5)break;	 							   
  53:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
  54:Core/Src/NRF24L01.c **** 	return 0;		 //检测到24L01
  55:Core/Src/NRF24L01.c **** }	 	 
  56:Core/Src/NRF24L01.c **** 
  57:Core/Src/NRF24L01.c **** /**
  58:Core/Src/NRF24L01.c ****   * 函数功能: SPI写寄存器
  59:Core/Src/NRF24L01.c ****   * 输入参数: 无
  60:Core/Src/NRF24L01.c ****   * 返 回 值: 无
  61:Core/Src/NRF24L01.c ****   * 说    明：reg:指定寄存器地址
  62:Core/Src/NRF24L01.c ****   *           
  63:Core/Src/NRF24L01.c ****   */ 
  64:Core/Src/NRF24L01.c **** uint8_t NRF24L01_Write_Reg(uint8_t reg,uint8_t value)
  65:Core/Src/NRF24L01.c **** {
  85              		.loc 1 65 1 is_stmt 1 view -0
  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 0
  88              		@ frame_needed = 0, uses_anonymous_args = 0
  89              		.loc 1 65 1 is_stmt 0 view .LVU13
  90 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  91              	.LCFI3:
  92              		.cfi_def_cfa_offset 24
  93              		.cfi_offset 3, -24
  94              		.cfi_offset 4, -20
  95              		.cfi_offset 5, -16
  96              		.cfi_offset 6, -12
  97              		.cfi_offset 7, -8
  98              		.cfi_offset 14, -4
  99 0002 0446     		mov	r4, r0
 100 0004 0D46     		mov	r5, r1
  66:Core/Src/NRF24L01.c **** 	uint8_t status;	
 101              		.loc 1 66 2 is_stmt 1 view .LVU14
  67:Core/Src/NRF24L01.c ****   NRF24L01_SPI_CS_ENABLE();                 //使能SPI传输
 102              		.loc 1 67 3 view .LVU15
 103 0006 0C4E     		ldr	r6, .L6
 104 0008 0022     		movs	r2, #0
 105 000a 4FF48051 		mov	r1, #4096
 106              	.LVL4:
 107              		.loc 1 67 3 is_stmt 0 view .LVU16
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 4


 108 000e 3046     		mov	r0, r6
 109              	.LVL5:
 110              		.loc 1 67 3 view .LVU17
 111 0010 FFF7FEFF 		bl	HAL_GPIO_WritePin
 112              	.LVL6:
  68:Core/Src/NRF24L01.c ****   status =SPIx_ReadWriteByte(&hspi_NRF24L01,reg);//发送寄存器号 
 113              		.loc 1 68 3 is_stmt 1 view .LVU18
 114              		.loc 1 68 11 is_stmt 0 view .LVU19
 115 0014 094F     		ldr	r7, .L6+4
 116 0016 2146     		mov	r1, r4
 117 0018 3846     		mov	r0, r7
 118 001a FFF7FEFF 		bl	SPIx_ReadWriteByte
 119              	.LVL7:
 120 001e 0446     		mov	r4, r0
 121              	.LVL8:
  69:Core/Src/NRF24L01.c ****   SPIx_ReadWriteByte(&hspi_NRF24L01,value);      //写入寄存器的值
 122              		.loc 1 69 3 is_stmt 1 view .LVU20
 123 0020 2946     		mov	r1, r5
 124 0022 3846     		mov	r0, r7
 125 0024 FFF7FEFF 		bl	SPIx_ReadWriteByte
 126              	.LVL9:
  70:Core/Src/NRF24L01.c ****   NRF24L01_SPI_CS_DISABLE();                 //禁止SPI传输	   
 127              		.loc 1 70 3 view .LVU21
 128 0028 0122     		movs	r2, #1
 129 002a 4FF48051 		mov	r1, #4096
 130 002e 3046     		mov	r0, r6
 131 0030 FFF7FEFF 		bl	HAL_GPIO_WritePin
 132              	.LVL10:
  71:Core/Src/NRF24L01.c ****   return(status);       			//返回状态值
 133              		.loc 1 71 3 view .LVU22
  72:Core/Src/NRF24L01.c **** }
 134              		.loc 1 72 1 is_stmt 0 view .LVU23
 135 0034 2046     		mov	r0, r4
 136 0036 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 137              	.LVL11:
 138              	.L7:
 139              		.loc 1 72 1 view .LVU24
 140              		.align	2
 141              	.L6:
 142 0038 00040240 		.word	1073873920
 143 003c 00000000 		.word	hspi2
 144              		.cfi_endproc
 145              	.LFE135:
 147              		.section	.text.NRF24L01_Read_Reg,"ax",%progbits
 148              		.align	1
 149              		.global	NRF24L01_Read_Reg
 150              		.syntax unified
 151              		.thumb
 152              		.thumb_func
 153              		.fpu fpv4-sp-d16
 155              	NRF24L01_Read_Reg:
 156              	.LVL12:
 157              	.LFB136:
  73:Core/Src/NRF24L01.c **** 
  74:Core/Src/NRF24L01.c **** /**
  75:Core/Src/NRF24L01.c ****   * 函数功能: 读取SPI寄存器值
  76:Core/Src/NRF24L01.c ****   * 输入参数: 无
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 5


  77:Core/Src/NRF24L01.c ****   * 返 回 值: 无
  78:Core/Src/NRF24L01.c ****   * 说    明：reg:要读的寄存器
  79:Core/Src/NRF24L01.c ****   *           
  80:Core/Src/NRF24L01.c ****   */ 
  81:Core/Src/NRF24L01.c **** uint8_t NRF24L01_Read_Reg(uint8_t reg)
  82:Core/Src/NRF24L01.c **** {
 158              		.loc 1 82 1 is_stmt 1 view -0
 159              		.cfi_startproc
 160              		@ args = 0, pretend = 0, frame = 0
 161              		@ frame_needed = 0, uses_anonymous_args = 0
 162              		.loc 1 82 1 is_stmt 0 view .LVU26
 163 0000 70B5     		push	{r4, r5, r6, lr}
 164              	.LCFI4:
 165              		.cfi_def_cfa_offset 16
 166              		.cfi_offset 4, -16
 167              		.cfi_offset 5, -12
 168              		.cfi_offset 6, -8
 169              		.cfi_offset 14, -4
 170 0002 0446     		mov	r4, r0
  83:Core/Src/NRF24L01.c **** 	uint8_t reg_val;	    
 171              		.loc 1 83 2 is_stmt 1 view .LVU27
  84:Core/Src/NRF24L01.c ****  	NRF24L01_SPI_CS_ENABLE();          //使能SPI传输		
 172              		.loc 1 84 3 view .LVU28
 173 0004 0C4D     		ldr	r5, .L10
 174 0006 0022     		movs	r2, #0
 175 0008 4FF48051 		mov	r1, #4096
 176 000c 2846     		mov	r0, r5
 177              	.LVL13:
 178              		.loc 1 84 3 is_stmt 0 view .LVU29
 179 000e FFF7FEFF 		bl	HAL_GPIO_WritePin
 180              	.LVL14:
  85:Core/Src/NRF24L01.c ****   SPIx_ReadWriteByte(&hspi_NRF24L01,reg);   //发送寄存器号
 181              		.loc 1 85 3 is_stmt 1 view .LVU30
 182 0012 0A4E     		ldr	r6, .L10+4
 183 0014 2146     		mov	r1, r4
 184 0016 3046     		mov	r0, r6
 185 0018 FFF7FEFF 		bl	SPIx_ReadWriteByte
 186              	.LVL15:
  86:Core/Src/NRF24L01.c ****   reg_val=SPIx_ReadWriteByte(&hspi_NRF24L01,0XFF);//读取寄存器内容
 187              		.loc 1 86 3 view .LVU31
 188              		.loc 1 86 11 is_stmt 0 view .LVU32
 189 001c FF21     		movs	r1, #255
 190 001e 3046     		mov	r0, r6
 191 0020 FFF7FEFF 		bl	SPIx_ReadWriteByte
 192              	.LVL16:
 193 0024 0446     		mov	r4, r0
 194              	.LVL17:
  87:Core/Src/NRF24L01.c ****   NRF24L01_SPI_CS_DISABLE();          //禁止SPI传输		    
 195              		.loc 1 87 3 is_stmt 1 view .LVU33
 196 0026 0122     		movs	r2, #1
 197 0028 4FF48051 		mov	r1, #4096
 198 002c 2846     		mov	r0, r5
 199 002e FFF7FEFF 		bl	HAL_GPIO_WritePin
 200              	.LVL18:
  88:Core/Src/NRF24L01.c ****   return(reg_val);           //返回状态值
 201              		.loc 1 88 3 view .LVU34
  89:Core/Src/NRF24L01.c **** }	
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 6


 202              		.loc 1 89 1 is_stmt 0 view .LVU35
 203 0032 2046     		mov	r0, r4
 204 0034 70BD     		pop	{r4, r5, r6, pc}
 205              	.LVL19:
 206              	.L11:
 207              		.loc 1 89 1 view .LVU36
 208 0036 00BF     		.align	2
 209              	.L10:
 210 0038 00040240 		.word	1073873920
 211 003c 00000000 		.word	hspi2
 212              		.cfi_endproc
 213              	.LFE136:
 215              		.section	.text.NRF24L01_Read_Buf,"ax",%progbits
 216              		.align	1
 217              		.global	NRF24L01_Read_Buf
 218              		.syntax unified
 219              		.thumb
 220              		.thumb_func
 221              		.fpu fpv4-sp-d16
 223              	NRF24L01_Read_Buf:
 224              	.LVL20:
 225              	.LFB137:
  90:Core/Src/NRF24L01.c **** 
  91:Core/Src/NRF24L01.c **** /**
  92:Core/Src/NRF24L01.c ****   * 函数功能: 在指定位置读出指定长度的数据
  93:Core/Src/NRF24L01.c ****   * 输入参数: 无
  94:Core/Src/NRF24L01.c ****   * 返 回 值: 此次读到的状态寄存器值 
  95:Core/Src/NRF24L01.c ****   * 说    明：无
  96:Core/Src/NRF24L01.c ****   *           
  97:Core/Src/NRF24L01.c ****   */ 
  98:Core/Src/NRF24L01.c **** uint8_t NRF24L01_Read_Buf(uint8_t reg,uint8_t *pBuf,uint8_t len)
  99:Core/Src/NRF24L01.c **** {
 226              		.loc 1 99 1 is_stmt 1 view -0
 227              		.cfi_startproc
 228              		@ args = 0, pretend = 0, frame = 0
 229              		@ frame_needed = 0, uses_anonymous_args = 0
 230              		.loc 1 99 1 is_stmt 0 view .LVU38
 231 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 232              	.LCFI5:
 233              		.cfi_def_cfa_offset 24
 234              		.cfi_offset 3, -24
 235              		.cfi_offset 4, -20
 236              		.cfi_offset 5, -16
 237              		.cfi_offset 6, -12
 238              		.cfi_offset 7, -8
 239              		.cfi_offset 14, -4
 240 0002 0446     		mov	r4, r0
 241 0004 0E46     		mov	r6, r1
 242 0006 1546     		mov	r5, r2
 100:Core/Src/NRF24L01.c **** 	uint8_t status,uint8_t_ctr;	   
 243              		.loc 1 100 2 is_stmt 1 view .LVU39
 101:Core/Src/NRF24L01.c ****   
 102:Core/Src/NRF24L01.c ****   NRF24L01_SPI_CS_ENABLE();           //使能SPI传输
 244              		.loc 1 102 3 view .LVU40
 245 0008 0022     		movs	r2, #0
 246              	.LVL21:
 247              		.loc 1 102 3 is_stmt 0 view .LVU41
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 7


 248 000a 4FF48051 		mov	r1, #4096
 249              	.LVL22:
 250              		.loc 1 102 3 view .LVU42
 251 000e 0D48     		ldr	r0, .L17
 252              	.LVL23:
 253              		.loc 1 102 3 view .LVU43
 254 0010 FFF7FEFF 		bl	HAL_GPIO_WritePin
 255              	.LVL24:
 103:Core/Src/NRF24L01.c ****   status=SPIx_ReadWriteByte(&hspi_NRF24L01,reg);//发送寄存器值(位置),并读取状态值   	
 256              		.loc 1 103 3 is_stmt 1 view .LVU44
 257              		.loc 1 103 10 is_stmt 0 view .LVU45
 258 0014 2146     		mov	r1, r4
 259 0016 0C48     		ldr	r0, .L17+4
 260 0018 FFF7FEFF 		bl	SPIx_ReadWriteByte
 261              	.LVL25:
 262 001c 0746     		mov	r7, r0
 263              	.LVL26:
 104:Core/Src/NRF24L01.c ****  	for(uint8_t_ctr=0;uint8_t_ctr<len;uint8_t_ctr++)
 264              		.loc 1 104 3 is_stmt 1 view .LVU46
 265              		.loc 1 104 18 is_stmt 0 view .LVU47
 266 001e 0024     		movs	r4, #0
 267              	.LVL27:
 268              	.L13:
 269              		.loc 1 104 21 is_stmt 1 discriminator 1 view .LVU48
 270              		.loc 1 104 3 is_stmt 0 discriminator 1 view .LVU49
 271 0020 AC42     		cmp	r4, r5
 272 0022 07D2     		bcs	.L16
 105:Core/Src/NRF24L01.c ****   {
 106:Core/Src/NRF24L01.c ****     pBuf[uint8_t_ctr]=SPIx_ReadWriteByte(&hspi_NRF24L01,0XFF);//读出数据
 273              		.loc 1 106 5 is_stmt 1 discriminator 3 view .LVU50
 274              		.loc 1 106 23 is_stmt 0 discriminator 3 view .LVU51
 275 0024 FF21     		movs	r1, #255
 276 0026 0848     		ldr	r0, .L17+4
 277 0028 FFF7FEFF 		bl	SPIx_ReadWriteByte
 278              	.LVL28:
 279              		.loc 1 106 22 discriminator 3 view .LVU52
 280 002c 3055     		strb	r0, [r6, r4]
 104:Core/Src/NRF24L01.c ****  	for(uint8_t_ctr=0;uint8_t_ctr<len;uint8_t_ctr++)
 281              		.loc 1 104 37 is_stmt 1 discriminator 3 view .LVU53
 104:Core/Src/NRF24L01.c ****  	for(uint8_t_ctr=0;uint8_t_ctr<len;uint8_t_ctr++)
 282              		.loc 1 104 48 is_stmt 0 discriminator 3 view .LVU54
 283 002e 0134     		adds	r4, r4, #1
 284              	.LVL29:
 104:Core/Src/NRF24L01.c ****  	for(uint8_t_ctr=0;uint8_t_ctr<len;uint8_t_ctr++)
 285              		.loc 1 104 48 discriminator 3 view .LVU55
 286 0030 E4B2     		uxtb	r4, r4
 287              	.LVL30:
 104:Core/Src/NRF24L01.c ****  	for(uint8_t_ctr=0;uint8_t_ctr<len;uint8_t_ctr++)
 288              		.loc 1 104 48 discriminator 3 view .LVU56
 289 0032 F5E7     		b	.L13
 290              	.L16:
 107:Core/Src/NRF24L01.c ****   }
 108:Core/Src/NRF24L01.c ****   NRF24L01_SPI_CS_DISABLE();       //关闭SPI传输
 291              		.loc 1 108 3 is_stmt 1 view .LVU57
 292 0034 0122     		movs	r2, #1
 293 0036 4FF48051 		mov	r1, #4096
 294 003a 0248     		ldr	r0, .L17
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 8


 295 003c FFF7FEFF 		bl	HAL_GPIO_WritePin
 296              	.LVL31:
 109:Core/Src/NRF24L01.c ****   return status;        //返回读到的状态值
 297              		.loc 1 109 3 view .LVU58
 110:Core/Src/NRF24L01.c **** }
 298              		.loc 1 110 1 is_stmt 0 view .LVU59
 299 0040 3846     		mov	r0, r7
 300 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 301              	.LVL32:
 302              	.L18:
 303              		.loc 1 110 1 view .LVU60
 304              		.align	2
 305              	.L17:
 306 0044 00040240 		.word	1073873920
 307 0048 00000000 		.word	hspi2
 308              		.cfi_endproc
 309              	.LFE137:
 311              		.section	.text.NRF24L01_Write_Buf,"ax",%progbits
 312              		.align	1
 313              		.global	NRF24L01_Write_Buf
 314              		.syntax unified
 315              		.thumb
 316              		.thumb_func
 317              		.fpu fpv4-sp-d16
 319              	NRF24L01_Write_Buf:
 320              	.LVL33:
 321              	.LFB138:
 111:Core/Src/NRF24L01.c **** 
 112:Core/Src/NRF24L01.c **** /**
 113:Core/Src/NRF24L01.c ****   * 函数功能: 在指定位置写指定长度的数据
 114:Core/Src/NRF24L01.c ****   * 输入参数: 无
 115:Core/Src/NRF24L01.c ****   * 返 回 值: 无
 116:Core/Src/NRF24L01.c ****   * 说    明：reg:寄存器(位置)  *pBuf:数据指针  len:数据长度
 117:Core/Src/NRF24L01.c ****   *           
 118:Core/Src/NRF24L01.c ****   */ 
 119:Core/Src/NRF24L01.c **** uint8_t NRF24L01_Write_Buf(uint8_t reg, uint8_t *pBuf, uint8_t len)
 120:Core/Src/NRF24L01.c **** {
 322              		.loc 1 120 1 is_stmt 1 view -0
 323              		.cfi_startproc
 324              		@ args = 0, pretend = 0, frame = 0
 325              		@ frame_needed = 0, uses_anonymous_args = 0
 326              		.loc 1 120 1 is_stmt 0 view .LVU62
 327 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 328              	.LCFI6:
 329              		.cfi_def_cfa_offset 24
 330              		.cfi_offset 3, -24
 331              		.cfi_offset 4, -20
 332              		.cfi_offset 5, -16
 333              		.cfi_offset 6, -12
 334              		.cfi_offset 7, -8
 335              		.cfi_offset 14, -4
 336 0002 0546     		mov	r5, r0
 337 0004 0C46     		mov	r4, r1
 338 0006 1646     		mov	r6, r2
 121:Core/Src/NRF24L01.c **** 	uint8_t status,uint8_t_ctr;	    
 339              		.loc 1 121 2 is_stmt 1 view .LVU63
 122:Core/Src/NRF24L01.c ****  	NRF24L01_SPI_CS_ENABLE();          //使能SPI传输
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 9


 340              		.loc 1 122 3 view .LVU64
 341 0008 0022     		movs	r2, #0
 342              	.LVL34:
 343              		.loc 1 122 3 is_stmt 0 view .LVU65
 344 000a 4FF48051 		mov	r1, #4096
 345              	.LVL35:
 346              		.loc 1 122 3 view .LVU66
 347 000e 0D48     		ldr	r0, .L24
 348              	.LVL36:
 349              		.loc 1 122 3 view .LVU67
 350 0010 FFF7FEFF 		bl	HAL_GPIO_WritePin
 351              	.LVL37:
 123:Core/Src/NRF24L01.c ****   status = SPIx_ReadWriteByte(&hspi_NRF24L01,reg);//发送寄存器值(位置),并读取状态值
 352              		.loc 1 123 3 is_stmt 1 view .LVU68
 353              		.loc 1 123 12 is_stmt 0 view .LVU69
 354 0014 2946     		mov	r1, r5
 355 0016 0C48     		ldr	r0, .L24+4
 356 0018 FFF7FEFF 		bl	SPIx_ReadWriteByte
 357              	.LVL38:
 358 001c 0746     		mov	r7, r0
 359              	.LVL39:
 124:Core/Src/NRF24L01.c ****   for(uint8_t_ctr=0; uint8_t_ctr<len; uint8_t_ctr++)
 360              		.loc 1 124 3 is_stmt 1 view .LVU70
 361              		.loc 1 124 18 is_stmt 0 view .LVU71
 362 001e 0025     		movs	r5, #0
 363              	.LVL40:
 364              	.L20:
 365              		.loc 1 124 22 is_stmt 1 discriminator 1 view .LVU72
 366              		.loc 1 124 3 is_stmt 0 discriminator 1 view .LVU73
 367 0020 B542     		cmp	r5, r6
 368 0022 07D2     		bcs	.L23
 125:Core/Src/NRF24L01.c ****   {
 126:Core/Src/NRF24L01.c ****     SPIx_ReadWriteByte(&hspi_NRF24L01,*pBuf++); //写入数据	 
 369              		.loc 1 126 5 is_stmt 1 discriminator 3 view .LVU74
 370              	.LVL41:
 371              		.loc 1 126 5 is_stmt 0 discriminator 3 view .LVU75
 372 0024 14F8011B 		ldrb	r1, [r4], #1	@ zero_extendqisi2
 373              	.LVL42:
 374              		.loc 1 126 5 discriminator 3 view .LVU76
 375 0028 0748     		ldr	r0, .L24+4
 376 002a FFF7FEFF 		bl	SPIx_ReadWriteByte
 377              	.LVL43:
 124:Core/Src/NRF24L01.c ****   for(uint8_t_ctr=0; uint8_t_ctr<len; uint8_t_ctr++)
 378              		.loc 1 124 39 is_stmt 1 discriminator 3 view .LVU77
 124:Core/Src/NRF24L01.c ****   for(uint8_t_ctr=0; uint8_t_ctr<len; uint8_t_ctr++)
 379              		.loc 1 124 50 is_stmt 0 discriminator 3 view .LVU78
 380 002e 0135     		adds	r5, r5, #1
 381              	.LVL44:
 124:Core/Src/NRF24L01.c ****   for(uint8_t_ctr=0; uint8_t_ctr<len; uint8_t_ctr++)
 382              		.loc 1 124 50 discriminator 3 view .LVU79
 383 0030 EDB2     		uxtb	r5, r5
 384              	.LVL45:
 124:Core/Src/NRF24L01.c ****   for(uint8_t_ctr=0; uint8_t_ctr<len; uint8_t_ctr++)
 385              		.loc 1 124 50 discriminator 3 view .LVU80
 386 0032 F5E7     		b	.L20
 387              	.L23:
 127:Core/Src/NRF24L01.c ****   }
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 10


 128:Core/Src/NRF24L01.c ****   NRF24L01_SPI_CS_DISABLE();       //关闭SPI传输
 388              		.loc 1 128 3 is_stmt 1 view .LVU81
 389 0034 0122     		movs	r2, #1
 390 0036 4FF48051 		mov	r1, #4096
 391 003a 0248     		ldr	r0, .L24
 392 003c FFF7FEFF 		bl	HAL_GPIO_WritePin
 393              	.LVL46:
 129:Core/Src/NRF24L01.c ****   return status;          //返回读到的状态值
 394              		.loc 1 129 3 view .LVU82
 130:Core/Src/NRF24L01.c **** }				   
 395              		.loc 1 130 1 is_stmt 0 view .LVU83
 396 0040 3846     		mov	r0, r7
 397 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 398              	.LVL47:
 399              	.L25:
 400              		.loc 1 130 1 view .LVU84
 401              		.align	2
 402              	.L24:
 403 0044 00040240 		.word	1073873920
 404 0048 00000000 		.word	hspi2
 405              		.cfi_endproc
 406              	.LFE138:
 408              		.section	.rodata.NRF24L01_Check.str1.4,"aMS",%progbits,1
 409              		.align	2
 410              	.LC0:
 411 0000 A5A5A5A5 		.ascii	"\245\245\245\245\245\000"
 411      A500
 412              		.section	.text.NRF24L01_Check,"ax",%progbits
 413              		.align	1
 414              		.global	NRF24L01_Check
 415              		.syntax unified
 416              		.thumb
 417              		.thumb_func
 418              		.fpu fpv4-sp-d16
 420              	NRF24L01_Check:
 421              	.LFB134:
  46:Core/Src/NRF24L01.c **** 	uint8_t buf[5]={0XA5,0XA5,0XA5,0XA5,0XA5};
 422              		.loc 1 46 1 is_stmt 1 view -0
 423              		.cfi_startproc
 424              		@ args = 0, pretend = 0, frame = 8
 425              		@ frame_needed = 0, uses_anonymous_args = 0
 426 0000 00B5     		push	{lr}
 427              	.LCFI7:
 428              		.cfi_def_cfa_offset 4
 429              		.cfi_offset 14, -4
 430 0002 83B0     		sub	sp, sp, #12
 431              	.LCFI8:
 432              		.cfi_def_cfa_offset 16
  47:Core/Src/NRF24L01.c **** 	uint8_t i;
 433              		.loc 1 47 2 view .LVU86
  47:Core/Src/NRF24L01.c **** 	uint8_t i;
 434              		.loc 1 47 10 is_stmt 0 view .LVU87
 435 0004 114B     		ldr	r3, .L33
 436 0006 93E80300 		ldm	r3, {r0, r1}
 437 000a 0090     		str	r0, [sp]
 438 000c 8DF80410 		strb	r1, [sp, #4]
  48:Core/Src/NRF24L01.c ****   
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 11


 439              		.loc 1 48 2 is_stmt 1 view .LVU88
  50:Core/Src/NRF24L01.c **** 	NRF24L01_Read_Buf(TX_ADDR,buf,5); //读出写入的地址  
 440              		.loc 1 50 2 view .LVU89
 441 0010 0522     		movs	r2, #5
 442 0012 6946     		mov	r1, sp
 443 0014 3020     		movs	r0, #48
 444 0016 FFF7FEFF 		bl	NRF24L01_Write_Buf
 445              	.LVL48:
  51:Core/Src/NRF24L01.c **** 	for(i=0;i<5;i++)if(buf[i]!=0XA5)break;	 							   
 446              		.loc 1 51 2 view .LVU90
 447 001a 0522     		movs	r2, #5
 448 001c 6946     		mov	r1, sp
 449 001e 1020     		movs	r0, #16
 450 0020 FFF7FEFF 		bl	NRF24L01_Read_Buf
 451              	.LVL49:
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 452              		.loc 1 52 2 view .LVU91
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 453              		.loc 1 52 7 is_stmt 0 view .LVU92
 454 0024 0023     		movs	r3, #0
 455              	.LVL50:
 456              	.L27:
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 457              		.loc 1 52 10 is_stmt 1 discriminator 3 view .LVU93
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 458              		.loc 1 52 2 is_stmt 0 discriminator 3 view .LVU94
 459 0026 042B     		cmp	r3, #4
 460 0028 08D8     		bhi	.L28
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 461              		.loc 1 52 18 is_stmt 1 discriminator 4 view .LVU95
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 462              		.loc 1 52 24 is_stmt 0 discriminator 4 view .LVU96
 463 002a 02AA     		add	r2, sp, #8
 464 002c 1A44     		add	r2, r2, r3
 465 002e 12F8082C 		ldrb	r2, [r2, #-8]	@ zero_extendqisi2
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 466              		.loc 1 52 20 discriminator 4 view .LVU97
 467 0032 A52A     		cmp	r2, #165
 468 0034 02D1     		bne	.L28
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 469              		.loc 1 52 14 is_stmt 1 discriminator 2 view .LVU98
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 470              		.loc 1 52 15 is_stmt 0 discriminator 2 view .LVU99
 471 0036 0133     		adds	r3, r3, #1
 472              	.LVL51:
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 473              		.loc 1 52 15 discriminator 2 view .LVU100
 474 0038 DBB2     		uxtb	r3, r3
 475              	.LVL52:
  52:Core/Src/NRF24L01.c **** 	if(i!=5)return 1;//检测24L01错误	
 476              		.loc 1 52 15 discriminator 2 view .LVU101
 477 003a F4E7     		b	.L27
 478              	.L28:
  53:Core/Src/NRF24L01.c **** 	return 0;		 //检测到24L01
 479              		.loc 1 53 2 is_stmt 1 view .LVU102
  53:Core/Src/NRF24L01.c **** 	return 0;		 //检测到24L01
 480              		.loc 1 53 4 is_stmt 0 view .LVU103
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 12


 481 003c 052B     		cmp	r3, #5
 482 003e 03D1     		bne	.L31
  54:Core/Src/NRF24L01.c **** }	 	 
 483              		.loc 1 54 9 view .LVU104
 484 0040 0020     		movs	r0, #0
 485              	.L30:
  55:Core/Src/NRF24L01.c **** 
 486              		.loc 1 55 1 view .LVU105
 487 0042 03B0     		add	sp, sp, #12
 488              	.LCFI9:
 489              		.cfi_remember_state
 490              		.cfi_def_cfa_offset 4
 491              		@ sp needed
 492 0044 5DF804FB 		ldr	pc, [sp], #4
 493              	.L31:
 494              	.LCFI10:
 495              		.cfi_restore_state
  53:Core/Src/NRF24L01.c **** 	return 0;		 //检测到24L01
 496              		.loc 1 53 17 view .LVU106
 497 0048 0120     		movs	r0, #1
 498 004a FAE7     		b	.L30
 499              	.L34:
 500              		.align	2
 501              	.L33:
 502 004c 00000000 		.word	.LC0
 503              		.cfi_endproc
 504              	.LFE134:
 506              		.section	.rodata.NRF24L01_TxPacket.str1.4,"aMS",%progbits,1
 507              		.align	2
 508              	.LC1:
 509 0000 54585F4D 		.ascii	"TX_MAX Time.\015\000"
 509      41582054 
 509      696D652E 
 509      0D00
 510 000e 0000     		.align	2
 511              	.LC2:
 512 0010 54585F4F 		.ascii	"TX_OK.\015\000"
 512      4B2E0D00 
 513              		.align	2
 514              	.LC3:
 515 0018 54585F45 		.ascii	"TX_Error\015\000"
 515      72726F72 
 515      0D00
 516              		.section	.text.NRF24L01_TxPacket,"ax",%progbits
 517              		.align	1
 518              		.global	NRF24L01_TxPacket
 519              		.syntax unified
 520              		.thumb
 521              		.thumb_func
 522              		.fpu fpv4-sp-d16
 524              	NRF24L01_TxPacket:
 525              	.LVL53:
 526              	.LFB139:
 131:Core/Src/NRF24L01.c **** 
 132:Core/Src/NRF24L01.c **** /**
 133:Core/Src/NRF24L01.c ****   * 函数功能: 启动NRF24L01发送一次数据
 134:Core/Src/NRF24L01.c ****   * 输入参数: 无
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 13


 135:Core/Src/NRF24L01.c ****   * 返 回 值: 发送完成状况
 136:Core/Src/NRF24L01.c ****   * 说    明：txbuf:待发送数据首地址
 137:Core/Src/NRF24L01.c ****   *           
 138:Core/Src/NRF24L01.c ****   */ 
 139:Core/Src/NRF24L01.c **** uint8_t NRF24L01_TxPacket(uint8_t *txbuf)
 140:Core/Src/NRF24L01.c **** {
 527              		.loc 1 140 1 is_stmt 1 view -0
 528              		.cfi_startproc
 529              		@ args = 0, pretend = 0, frame = 0
 530              		@ frame_needed = 0, uses_anonymous_args = 0
 531              		.loc 1 140 1 is_stmt 0 view .LVU108
 532 0000 38B5     		push	{r3, r4, r5, lr}
 533              	.LCFI11:
 534              		.cfi_def_cfa_offset 16
 535              		.cfi_offset 3, -16
 536              		.cfi_offset 4, -12
 537              		.cfi_offset 5, -8
 538              		.cfi_offset 14, -4
 539 0002 0446     		mov	r4, r0
 141:Core/Src/NRF24L01.c **** 	uint8_t sta;
 540              		.loc 1 141 2 is_stmt 1 view .LVU109
 142:Core/Src/NRF24L01.c **** 	NRF24L01_CE_LOW();
 541              		.loc 1 142 2 view .LVU110
 542 0004 1C4D     		ldr	r5, .L43
 543 0006 0022     		movs	r2, #0
 544 0008 4FF48061 		mov	r1, #1024
 545 000c 2846     		mov	r0, r5
 546              	.LVL54:
 547              		.loc 1 142 2 is_stmt 0 view .LVU111
 548 000e FFF7FEFF 		bl	HAL_GPIO_WritePin
 549              	.LVL55:
 143:Core/Src/NRF24L01.c ****   NRF24L01_Write_Buf(WR_TX_PLOAD,txbuf,TX_PLOAD_WIDTH);//写数据到TX BUF  32个字节
 550              		.loc 1 143 3 is_stmt 1 view .LVU112
 551 0012 2022     		movs	r2, #32
 552 0014 2146     		mov	r1, r4
 553 0016 A020     		movs	r0, #160
 554 0018 FFF7FEFF 		bl	NRF24L01_Write_Buf
 555              	.LVL56:
 144:Core/Src/NRF24L01.c ****  	NRF24L01_CE_HIGH();                                  //启动发送	 
 556              		.loc 1 144 3 view .LVU113
 557 001c 0122     		movs	r2, #1
 558 001e 4FF48061 		mov	r1, #1024
 559 0022 2846     		mov	r0, r5
 560 0024 FFF7FEFF 		bl	HAL_GPIO_WritePin
 561              	.LVL57:
 145:Core/Src/NRF24L01.c ****   
 146:Core/Src/NRF24L01.c **** 	while(NRF24L01_IRQ_PIN_READ()!=0);                   //等待发送完成
 562              		.loc 1 146 2 view .LVU114
 563              	.L36:
 564              		.loc 1 146 35 discriminator 1 view .LVU115
 565              		.loc 1 146 7 discriminator 1 view .LVU116
 566              		.loc 1 146 8 is_stmt 0 discriminator 1 view .LVU117
 567 0028 4FF48071 		mov	r1, #256
 568 002c 1348     		ldr	r0, .L43+4
 569 002e FFF7FEFF 		bl	HAL_GPIO_ReadPin
 570              	.LVL58:
 571              		.loc 1 146 7 discriminator 1 view .LVU118
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 14


 572 0032 0028     		cmp	r0, #0
 573 0034 F8D1     		bne	.L36
 147:Core/Src/NRF24L01.c **** 	sta=NRF24L01_Read_Reg(STATUS);                       //读取状态寄存器的值	   
 574              		.loc 1 147 2 is_stmt 1 view .LVU119
 575              		.loc 1 147 6 is_stmt 0 view .LVU120
 576 0036 0720     		movs	r0, #7
 577 0038 FFF7FEFF 		bl	NRF24L01_Read_Reg
 578              	.LVL59:
 579 003c 0446     		mov	r4, r0
 580              	.LVL60:
 148:Core/Src/NRF24L01.c **** 	NRF24L01_Write_Reg(NRF_WRITE_REG+STATUS,sta);        //清除TX_DS或MAX_RT中断标志
 581              		.loc 1 148 2 is_stmt 1 view .LVU121
 582 003e 0146     		mov	r1, r0
 583 0040 2720     		movs	r0, #39
 584              	.LVL61:
 585              		.loc 1 148 2 is_stmt 0 view .LVU122
 586 0042 FFF7FEFF 		bl	NRF24L01_Write_Reg
 587              	.LVL62:
 149:Core/Src/NRF24L01.c **** 	if(sta&MAX_TX)                                       //达到最大重发次数
 588              		.loc 1 149 2 is_stmt 1 view .LVU123
 589              		.loc 1 149 4 is_stmt 0 view .LVU124
 590 0046 14F0100F 		tst	r4, #16
 591 004a 07D1     		bne	.L41
 150:Core/Src/NRF24L01.c **** 	{
 151:Core/Src/NRF24L01.c **** 		NRF24L01_Write_Reg(FLUSH_TX,0xff);                 //清除TX FIFO寄存器 
 152:Core/Src/NRF24L01.c ****     printf("TX_MAX Time.\r\n");
 153:Core/Src/NRF24L01.c **** 		return MAX_TX; 
 154:Core/Src/NRF24L01.c **** 	}
 155:Core/Src/NRF24L01.c **** 	if(sta&TX_OK)                                        //发送完成
 592              		.loc 1 155 2 is_stmt 1 view .LVU125
 593              		.loc 1 155 4 is_stmt 0 view .LVU126
 594 004c 14F0200F 		tst	r4, #32
 595 0050 0DD1     		bne	.L42
 156:Core/Src/NRF24L01.c **** 	{
 157:Core/Src/NRF24L01.c ****     printf("TX_OK.\r\n");
 158:Core/Src/NRF24L01.c **** 		return TX_OK;
 159:Core/Src/NRF24L01.c **** 	}
 160:Core/Src/NRF24L01.c ****   printf("TX_Error\r\n");
 596              		.loc 1 160 3 is_stmt 1 view .LVU127
 597 0052 0B48     		ldr	r0, .L43+8
 598 0054 FFF7FEFF 		bl	puts
 599              	.LVL63:
 161:Core/Src/NRF24L01.c **** 	return 0xff;                                         //其他原因发送失败
 600              		.loc 1 161 2 view .LVU128
 601              		.loc 1 161 9 is_stmt 0 view .LVU129
 602 0058 FF20     		movs	r0, #255
 603              	.L38:
 162:Core/Src/NRF24L01.c **** }
 604              		.loc 1 162 1 view .LVU130
 605 005a 38BD     		pop	{r3, r4, r5, pc}
 606              	.L41:
 151:Core/Src/NRF24L01.c ****     printf("TX_MAX Time.\r\n");
 607              		.loc 1 151 3 is_stmt 1 view .LVU131
 608 005c FF21     		movs	r1, #255
 609 005e E120     		movs	r0, #225
 610 0060 FFF7FEFF 		bl	NRF24L01_Write_Reg
 611              	.LVL64:
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 15


 152:Core/Src/NRF24L01.c **** 		return MAX_TX; 
 612              		.loc 1 152 5 view .LVU132
 613 0064 0748     		ldr	r0, .L43+12
 614 0066 FFF7FEFF 		bl	puts
 615              	.LVL65:
 153:Core/Src/NRF24L01.c **** 	}
 616              		.loc 1 153 3 view .LVU133
 153:Core/Src/NRF24L01.c **** 	}
 617              		.loc 1 153 10 is_stmt 0 view .LVU134
 618 006a 1020     		movs	r0, #16
 619 006c F5E7     		b	.L38
 620              	.L42:
 157:Core/Src/NRF24L01.c **** 		return TX_OK;
 621              		.loc 1 157 5 is_stmt 1 view .LVU135
 622 006e 0648     		ldr	r0, .L43+16
 623 0070 FFF7FEFF 		bl	puts
 624              	.LVL66:
 158:Core/Src/NRF24L01.c **** 	}
 625              		.loc 1 158 3 view .LVU136
 158:Core/Src/NRF24L01.c **** 	}
 626              		.loc 1 158 10 is_stmt 0 view .LVU137
 627 0074 2020     		movs	r0, #32
 628 0076 F0E7     		b	.L38
 629              	.L44:
 630              		.align	2
 631              	.L43:
 632 0078 00040240 		.word	1073873920
 633 007c 00000240 		.word	1073872896
 634 0080 18000000 		.word	.LC3
 635 0084 00000000 		.word	.LC1
 636 0088 10000000 		.word	.LC2
 637              		.cfi_endproc
 638              	.LFE139:
 640              		.section	.rodata.NRF24L01_RxPacket.str1.4,"aMS",%progbits,1
 641              		.align	2
 642              	.LC4:
 643 0000 4368616E 		.ascii	"Channel 0 read successfully!\015\000"
 643      6E656C20 
 643      30207265 
 643      61642073 
 643      75636365 
 644 001e 0000     		.align	2
 645              	.LC5:
 646 0020 6368616E 		.ascii	"channel 1 read successfully!\015\000"
 646      6E656C20 
 646      31207265 
 646      61642073 
 646      75636365 
 647 003e 0000     		.align	2
 648              	.LC6:
 649 0040 6368616E 		.ascii	"channel 2 read successfully!\015\000"
 649      6E656C20 
 649      32207265 
 649      61642073 
 649      75636365 
 650 005e 0000     		.align	2
 651              	.LC7:
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 16


 652 0060 6368616E 		.ascii	"channel 3 read successfully!\015\000"
 652      6E656C20 
 652      33207265 
 652      61642073 
 652      75636365 
 653 007e 0000     		.align	2
 654              	.LC8:
 655 0080 52656164 		.ascii	"Read successfully but unknow channel!\015\000"
 655      20737563 
 655      63657373 
 655      66756C6C 
 655      79206275 
 656 00a7 00       		.align	2
 657              	.LC9:
 658 00a8 5278204E 		.ascii	"Rx Nothing\015\000"
 658      6F746869 
 658      6E670D00 
 659              		.section	.text.NRF24L01_RxPacket,"ax",%progbits
 660              		.align	1
 661              		.global	NRF24L01_RxPacket
 662              		.syntax unified
 663              		.thumb
 664              		.thumb_func
 665              		.fpu fpv4-sp-d16
 667              	NRF24L01_RxPacket:
 668              	.LVL67:
 669              	.LFB140:
 163:Core/Src/NRF24L01.c **** 
 164:Core/Src/NRF24L01.c **** /**
 165:Core/Src/NRF24L01.c ****   * 函数功能:启动NRF24L01接收一次数据
 166:Core/Src/NRF24L01.c ****   * 输入参数: 无
 167:Core/Src/NRF24L01.c ****   * 返 回 值: 无
 168:Core/Src/NRF24L01.c ****   * 说    明：无
 169:Core/Src/NRF24L01.c ****   *           
 170:Core/Src/NRF24L01.c ****   */ 
 171:Core/Src/NRF24L01.c **** uint8_t NRF24L01_RxPacket(uint8_t *rxbuf)
 172:Core/Src/NRF24L01.c **** {
 670              		.loc 1 172 1 is_stmt 1 view -0
 671              		.cfi_startproc
 672              		@ args = 0, pretend = 0, frame = 0
 673              		@ frame_needed = 0, uses_anonymous_args = 0
 674              		.loc 1 172 1 is_stmt 0 view .LVU139
 675 0000 38B5     		push	{r3, r4, r5, lr}
 676              	.LCFI12:
 677              		.cfi_def_cfa_offset 16
 678              		.cfi_offset 3, -16
 679              		.cfi_offset 4, -12
 680              		.cfi_offset 5, -8
 681              		.cfi_offset 14, -4
 682 0002 0546     		mov	r5, r0
 173:Core/Src/NRF24L01.c **** 	uint8_t sta;		    							   
 683              		.loc 1 173 2 is_stmt 1 view .LVU140
 174:Core/Src/NRF24L01.c **** 	sta=NRF24L01_Read_Reg(STATUS);                //读取状态寄存器的值    	 
 684              		.loc 1 174 2 view .LVU141
 685              		.loc 1 174 6 is_stmt 0 view .LVU142
 686 0004 0720     		movs	r0, #7
 687              	.LVL68:
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 17


 688              		.loc 1 174 6 view .LVU143
 689 0006 FFF7FEFF 		bl	NRF24L01_Read_Reg
 690              	.LVL69:
 691 000a 0446     		mov	r4, r0
 692              	.LVL70:
 175:Core/Src/NRF24L01.c **** 	NRF24L01_Write_Reg(NRF_WRITE_REG+STATUS,sta); //清除TX_DS或MAX_RT中断标志
 693              		.loc 1 175 2 is_stmt 1 view .LVU144
 694 000c 0146     		mov	r1, r0
 695 000e 2720     		movs	r0, #39
 696              	.LVL71:
 697              		.loc 1 175 2 is_stmt 0 view .LVU145
 698 0010 FFF7FEFF 		bl	NRF24L01_Write_Reg
 699              	.LVL72:
 176:Core/Src/NRF24L01.c **** 	if(sta&RX_OK)                                 //接收到数据
 700              		.loc 1 176 2 is_stmt 1 view .LVU146
 701              		.loc 1 176 4 is_stmt 0 view .LVU147
 702 0014 14F0400F 		tst	r4, #64
 703 0018 3BD0     		beq	.L46
 177:Core/Src/NRF24L01.c **** 	{
 178:Core/Src/NRF24L01.c ****     switch (sta&0x0e)
 704              		.loc 1 178 5 is_stmt 1 view .LVU148
 705 001a 04F00E04 		and	r4, r4, #14
 706 001e 062C     		cmp	r4, #6
 707 0020 2ED8     		bhi	.L47
 708 0022 DFE804F0 		tbb	[pc, r4]
 709              	.L49:
 710 0026 04       		.byte	(.L52-.L49)/2
 711 0027 2D       		.byte	(.L47-.L49)/2
 712 0028 12       		.byte	(.L51-.L49)/2
 713 0029 2D       		.byte	(.L47-.L49)/2
 714 002a 1B       		.byte	(.L50-.L49)/2
 715 002b 2D       		.byte	(.L47-.L49)/2
 716 002c 24       		.byte	(.L48-.L49)/2
 717 002d 00       		.p2align 1
 718              	.L52:
 179:Core/Src/NRF24L01.c ****     {
 180:Core/Src/NRF24L01.c ****     case 0x00:
 181:Core/Src/NRF24L01.c ****       NRF24L01_Read_Buf(RD_RX_PLOAD,rxbuf,RX_PLOAD_WIDTH);  //读取通道0数据
 719              		.loc 1 181 7 view .LVU149
 720 002e 2022     		movs	r2, #32
 721 0030 2946     		mov	r1, r5
 722 0032 6120     		movs	r0, #97
 723 0034 FFF7FEFF 		bl	NRF24L01_Read_Buf
 724              	.LVL73:
 182:Core/Src/NRF24L01.c ****       printf("Channel 0 read successfully!\r\n");
 725              		.loc 1 182 7 view .LVU150
 726 0038 1848     		ldr	r0, .L56
 727 003a FFF7FEFF 		bl	puts
 728              	.LVL74:
 183:Core/Src/NRF24L01.c ****       break;
 729              		.loc 1 183 7 view .LVU151
 730              	.L53:
 184:Core/Src/NRF24L01.c ****     case 0x02:
 185:Core/Src/NRF24L01.c ****       NRF24L01_Read_Buf(RD_RX_PLOAD,rxbuf,RX_PLOAD_WIDTH);  //读取通道1数据
 186:Core/Src/NRF24L01.c ****       printf("channel 1 read successfully!\r\n");
 187:Core/Src/NRF24L01.c ****       break;
 188:Core/Src/NRF24L01.c ****     case 0x04:
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 18


 189:Core/Src/NRF24L01.c ****       NRF24L01_Read_Buf(RD_RX_PLOAD,rxbuf,RX_PLOAD_WIDTH);  //读取通道2数据
 190:Core/Src/NRF24L01.c ****       printf("channel 2 read successfully!\r\n");
 191:Core/Src/NRF24L01.c ****       break;
 192:Core/Src/NRF24L01.c ****     case 0x06:
 193:Core/Src/NRF24L01.c ****       NRF24L01_Read_Buf(RD_RX_PLOAD,rxbuf,RX_PLOAD_WIDTH);  //读取通道3数据
 194:Core/Src/NRF24L01.c ****       printf("channel 3 read successfully!\r\n");
 195:Core/Src/NRF24L01.c ****       break;
 196:Core/Src/NRF24L01.c ****     default:
 197:Core/Src/NRF24L01.c ****       NRF24L01_Read_Buf(RD_RX_PLOAD,rxbuf,RX_PLOAD_WIDTH);  //读取数据
 198:Core/Src/NRF24L01.c ****       printf("Read successfully but unknow channel!\r\n");
 199:Core/Src/NRF24L01.c ****       break;
 200:Core/Src/NRF24L01.c ****     }
 201:Core/Src/NRF24L01.c **** 		
 202:Core/Src/NRF24L01.c **** 		NRF24L01_Write_Reg(FLUSH_RX,0xff);                      //清除RX FIFO寄存器 
 731              		.loc 1 202 3 view .LVU152
 732 003e FF21     		movs	r1, #255
 733 0040 E220     		movs	r0, #226
 734 0042 FFF7FEFF 		bl	NRF24L01_Write_Reg
 735              	.LVL75:
 203:Core/Src/NRF24L01.c **** 		return 0; 
 736              		.loc 1 203 3 view .LVU153
 737              		.loc 1 203 10 is_stmt 0 view .LVU154
 738 0046 0020     		movs	r0, #0
 739              	.L54:
 204:Core/Src/NRF24L01.c **** 	}
 205:Core/Src/NRF24L01.c ****   printf("Rx Nothing\r\n");	
 206:Core/Src/NRF24L01.c **** 	return 1; //没收到任何数据
 207:Core/Src/NRF24L01.c **** }							    
 740              		.loc 1 207 1 view .LVU155
 741 0048 38BD     		pop	{r3, r4, r5, pc}
 742              	.LVL76:
 743              	.L51:
 185:Core/Src/NRF24L01.c ****       printf("channel 1 read successfully!\r\n");
 744              		.loc 1 185 7 is_stmt 1 view .LVU156
 745 004a 2022     		movs	r2, #32
 746 004c 2946     		mov	r1, r5
 747 004e 6120     		movs	r0, #97
 748 0050 FFF7FEFF 		bl	NRF24L01_Read_Buf
 749              	.LVL77:
 186:Core/Src/NRF24L01.c ****       break;
 750              		.loc 1 186 7 view .LVU157
 751 0054 1248     		ldr	r0, .L56+4
 752 0056 FFF7FEFF 		bl	puts
 753              	.LVL78:
 187:Core/Src/NRF24L01.c ****     case 0x04:
 754              		.loc 1 187 7 view .LVU158
 755 005a F0E7     		b	.L53
 756              	.L50:
 189:Core/Src/NRF24L01.c ****       printf("channel 2 read successfully!\r\n");
 757              		.loc 1 189 7 view .LVU159
 758 005c 2022     		movs	r2, #32
 759 005e 2946     		mov	r1, r5
 760 0060 6120     		movs	r0, #97
 761 0062 FFF7FEFF 		bl	NRF24L01_Read_Buf
 762              	.LVL79:
 190:Core/Src/NRF24L01.c ****       break;
 763              		.loc 1 190 7 view .LVU160
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 19


 764 0066 0F48     		ldr	r0, .L56+8
 765 0068 FFF7FEFF 		bl	puts
 766              	.LVL80:
 191:Core/Src/NRF24L01.c ****     case 0x06:
 767              		.loc 1 191 7 view .LVU161
 768 006c E7E7     		b	.L53
 769              	.L48:
 193:Core/Src/NRF24L01.c ****       printf("channel 3 read successfully!\r\n");
 770              		.loc 1 193 7 view .LVU162
 771 006e 2022     		movs	r2, #32
 772 0070 2946     		mov	r1, r5
 773 0072 6120     		movs	r0, #97
 774 0074 FFF7FEFF 		bl	NRF24L01_Read_Buf
 775              	.LVL81:
 194:Core/Src/NRF24L01.c ****       break;
 776              		.loc 1 194 7 view .LVU163
 777 0078 0B48     		ldr	r0, .L56+12
 778 007a FFF7FEFF 		bl	puts
 779              	.LVL82:
 195:Core/Src/NRF24L01.c ****     default:
 780              		.loc 1 195 7 view .LVU164
 781 007e DEE7     		b	.L53
 782              	.L47:
 197:Core/Src/NRF24L01.c ****       printf("Read successfully but unknow channel!\r\n");
 783              		.loc 1 197 7 view .LVU165
 784 0080 2022     		movs	r2, #32
 785 0082 2946     		mov	r1, r5
 786 0084 6120     		movs	r0, #97
 787 0086 FFF7FEFF 		bl	NRF24L01_Read_Buf
 788              	.LVL83:
 198:Core/Src/NRF24L01.c ****       break;
 789              		.loc 1 198 7 view .LVU166
 790 008a 0848     		ldr	r0, .L56+16
 791 008c FFF7FEFF 		bl	puts
 792              	.LVL84:
 199:Core/Src/NRF24L01.c ****     }
 793              		.loc 1 199 7 view .LVU167
 794 0090 D5E7     		b	.L53
 795              	.L46:
 205:Core/Src/NRF24L01.c **** 	return 1; //没收到任何数据
 796              		.loc 1 205 3 view .LVU168
 797 0092 0748     		ldr	r0, .L56+20
 798 0094 FFF7FEFF 		bl	puts
 799              	.LVL85:
 206:Core/Src/NRF24L01.c **** }							    
 800              		.loc 1 206 2 view .LVU169
 206:Core/Src/NRF24L01.c **** }							    
 801              		.loc 1 206 9 is_stmt 0 view .LVU170
 802 0098 0120     		movs	r0, #1
 803 009a D5E7     		b	.L54
 804              	.L57:
 805              		.align	2
 806              	.L56:
 807 009c 00000000 		.word	.LC4
 808 00a0 20000000 		.word	.LC5
 809 00a4 40000000 		.word	.LC6
 810 00a8 60000000 		.word	.LC7
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 20


 811 00ac 80000000 		.word	.LC8
 812 00b0 A8000000 		.word	.LC9
 813              		.cfi_endproc
 814              	.LFE140:
 816              		.section	.text.NRF24L01_RX_Mode,"ax",%progbits
 817              		.align	1
 818              		.global	NRF24L01_RX_Mode
 819              		.syntax unified
 820              		.thumb
 821              		.thumb_func
 822              		.fpu fpv4-sp-d16
 824              	NRF24L01_RX_Mode:
 825              	.LVL86:
 826              	.LFB141:
 208:Core/Src/NRF24L01.c **** 
 209:Core/Src/NRF24L01.c **** /**
 210:Core/Src/NRF24L01.c ****   * 函数功能: 该函数初始化NRF24L01到RX模式
 211:Core/Src/NRF24L01.c ****   * 输入参数: 通道号1~4
 212:Core/Src/NRF24L01.c ****   * 返 回 值: 无
 213:Core/Src/NRF24L01.c ****   * 说    明：无
 214:Core/Src/NRF24L01.c ****   *           
 215:Core/Src/NRF24L01.c ****   */ 
 216:Core/Src/NRF24L01.c **** void NRF24L01_RX_Mode(uint8_t channel)
 217:Core/Src/NRF24L01.c **** {
 827              		.loc 1 217 1 is_stmt 1 view -0
 828              		.cfi_startproc
 829              		@ args = 0, pretend = 0, frame = 0
 830              		@ frame_needed = 0, uses_anonymous_args = 0
 831              		.loc 1 217 1 is_stmt 0 view .LVU172
 832 0000 10B5     		push	{r4, lr}
 833              	.LCFI13:
 834              		.cfi_def_cfa_offset 8
 835              		.cfi_offset 4, -8
 836              		.cfi_offset 14, -4
 837 0002 0446     		mov	r4, r0
 218:Core/Src/NRF24L01.c **** 	NRF24L01_CE_LOW();
 838              		.loc 1 218 2 is_stmt 1 view .LVU173
 839 0004 0022     		movs	r2, #0
 840 0006 4FF48061 		mov	r1, #1024
 841 000a 2C48     		ldr	r0, .L67
 842              	.LVL87:
 843              		.loc 1 218 2 is_stmt 0 view .LVU174
 844 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
 845              	.LVL88:
 219:Core/Src/NRF24L01.c ****   switch (channel)
 846              		.loc 1 219 3 is_stmt 1 view .LVU175
 847 0010 032C     		cmp	r4, #3
 848 0012 48D8     		bhi	.L59
 849 0014 DFE804F0 		tbb	[pc, r4]
 850              	.L61:
 851 0018 02       		.byte	(.L64-.L61)/2
 852 0019 29       		.byte	(.L63-.L61)/2
 853 001a 33       		.byte	(.L62-.L61)/2
 854 001b 3D       		.byte	(.L60-.L61)/2
 855              		.p2align 1
 856              	.L64:
 220:Core/Src/NRF24L01.c ****   {
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 21


 221:Core/Src/NRF24L01.c ****   case 0:                                                                            //通道0
 222:Core/Src/NRF24L01.c ****     NRF24L01_Write_Reg(NRF_WRITE_REG+RX_PW_P0,RX_PLOAD_WIDTH);                       //选择通道
 857              		.loc 1 222 5 view .LVU176
 858 001c 2021     		movs	r1, #32
 859 001e 3120     		movs	r0, #49
 860 0020 FFF7FEFF 		bl	NRF24L01_Write_Reg
 861              	.LVL89:
 223:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS0,RX_ADR_WIDTH); //写RX节点
 862              		.loc 1 223 5 view .LVU177
 863 0024 0522     		movs	r2, #5
 864 0026 2649     		ldr	r1, .L67+4
 865 0028 2A20     		movs	r0, #42
 866 002a FFF7FEFF 		bl	NRF24L01_Write_Buf
 867              	.LVL90:
 224:Core/Src/NRF24L01.c ****     break;
 868              		.loc 1 224 5 view .LVU178
 869              	.L65:
 225:Core/Src/NRF24L01.c ****   case 1:                                                                            //通道1
 226:Core/Src/NRF24L01.c ****     NRF24L01_Write_Reg(NRF_WRITE_REG+RX_PW_P1,RX_PLOAD_WIDTH);                       //选择通道
 227:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P1,(uint8_t*)RX_ADDRESS1,RX_ADR_WIDTH); //写RX节点
 228:Core/Src/NRF24L01.c ****     break;
 229:Core/Src/NRF24L01.c ****   case 2:                                                                            //通道2
 230:Core/Src/NRF24L01.c ****     NRF24L01_Write_Reg(NRF_WRITE_REG+RX_PW_P2,RX_PLOAD_WIDTH);                       //选择通道
 231:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P2,(uint8_t*)RX_ADDRESS2,1);            //写RX节点
 232:Core/Src/NRF24L01.c ****     break;
 233:Core/Src/NRF24L01.c ****   case 3:                                                                            //通道3
 234:Core/Src/NRF24L01.c ****     NRF24L01_Write_Reg(NRF_WRITE_REG+RX_PW_P3,RX_PLOAD_WIDTH);                       //选择通道
 235:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P3,(uint8_t*)RX_ADDRESS3,1);            //写RX节点
 236:Core/Src/NRF24L01.c ****     break;
 237:Core/Src/NRF24L01.c ****   default:                                                                           //默认通道
 238:Core/Src/NRF24L01.c ****     NRF24L01_Write_Reg(NRF_WRITE_REG+RX_PW_P0,RX_PLOAD_WIDTH);                       //选择通道
 239:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS0,RX_ADR_WIDTH); //写RX节点
 240:Core/Src/NRF24L01.c ****     break;
 241:Core/Src/NRF24L01.c ****   }	  
 242:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+CONFIG, 0x0F);   //配置基本工作模式的参数;PWR_UP,EN_C
 870              		.loc 1 242 3 view .LVU179
 871 002e 0F21     		movs	r1, #15
 872 0030 2020     		movs	r0, #32
 873 0032 FFF7FEFF 		bl	NRF24L01_Write_Reg
 874              	.LVL91:
 243:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+EN_AA,0x3f);     //使能通道0~3的自动应答    
 875              		.loc 1 243 3 view .LVU180
 876 0036 3F21     		movs	r1, #63
 877 0038 2120     		movs	r0, #33
 878 003a FFF7FEFF 		bl	NRF24L01_Write_Reg
 879              	.LVL92:
 244:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+EN_RXADDR,0x3f); //使能通道0~3的接收地址  	 
 880              		.loc 1 244 3 view .LVU181
 881 003e 3F21     		movs	r1, #63
 882 0040 2220     		movs	r0, #34
 883 0042 FFF7FEFF 		bl	NRF24L01_Write_Reg
 884              	.LVL93:
 245:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RF_CH,40);	      //设置RF通信频率		  
 885              		.loc 1 245 3 view .LVU182
 886 0046 2821     		movs	r1, #40
 887 0048 2520     		movs	r0, #37
 888 004a FFF7FEFF 		bl	NRF24L01_Write_Reg
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 22


 889              	.LVL94:
 246:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RF_SETUP,0x0f);  //设置TX发射参数,0db增益,2Mbps,低噪
 890              		.loc 1 246 3 view .LVU183
 891 004e 0F21     		movs	r1, #15
 892 0050 2620     		movs	r0, #38
 893 0052 FFF7FEFF 		bl	NRF24L01_Write_Reg
 894              	.LVL95:
 247:Core/Src/NRF24L01.c ****   
 248:Core/Src/NRF24L01.c **** 	
 249:Core/Src/NRF24L01.c ****   NRF24L01_CE_HIGH(); //CE为高,进入接收模式 
 895              		.loc 1 249 3 view .LVU184
 896 0056 0122     		movs	r2, #1
 897 0058 4FF48061 		mov	r1, #1024
 898 005c 1748     		ldr	r0, .L67
 899 005e FFF7FEFF 		bl	HAL_GPIO_WritePin
 900              	.LVL96:
 250:Core/Src/NRF24L01.c ****   HAL_Delay(1);
 901              		.loc 1 250 3 view .LVU185
 902 0062 0120     		movs	r0, #1
 903 0064 FFF7FEFF 		bl	HAL_Delay
 904              	.LVL97:
 251:Core/Src/NRF24L01.c **** }								 
 905              		.loc 1 251 1 is_stmt 0 view .LVU186
 906 0068 10BD     		pop	{r4, pc}
 907              	.L63:
 226:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P1,(uint8_t*)RX_ADDRESS1,RX_ADR_WIDTH); //写RX节点
 908              		.loc 1 226 5 is_stmt 1 view .LVU187
 909 006a 2021     		movs	r1, #32
 910 006c 3220     		movs	r0, #50
 911 006e FFF7FEFF 		bl	NRF24L01_Write_Reg
 912              	.LVL98:
 227:Core/Src/NRF24L01.c ****     break;
 913              		.loc 1 227 5 view .LVU188
 914 0072 0522     		movs	r2, #5
 915 0074 1349     		ldr	r1, .L67+8
 916 0076 2B20     		movs	r0, #43
 917 0078 FFF7FEFF 		bl	NRF24L01_Write_Buf
 918              	.LVL99:
 228:Core/Src/NRF24L01.c ****   case 2:                                                                            //通道2
 919              		.loc 1 228 5 view .LVU189
 920 007c D7E7     		b	.L65
 921              	.L62:
 230:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P2,(uint8_t*)RX_ADDRESS2,1);            //写RX节点
 922              		.loc 1 230 5 view .LVU190
 923 007e 2021     		movs	r1, #32
 924 0080 3320     		movs	r0, #51
 925 0082 FFF7FEFF 		bl	NRF24L01_Write_Reg
 926              	.LVL100:
 231:Core/Src/NRF24L01.c ****     break;
 927              		.loc 1 231 5 view .LVU191
 928 0086 0122     		movs	r2, #1
 929 0088 0F49     		ldr	r1, .L67+12
 930 008a 2C20     		movs	r0, #44
 931 008c FFF7FEFF 		bl	NRF24L01_Write_Buf
 932              	.LVL101:
 232:Core/Src/NRF24L01.c ****   case 3:                                                                            //通道3
 933              		.loc 1 232 5 view .LVU192
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 23


 934 0090 CDE7     		b	.L65
 935              	.L60:
 234:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P3,(uint8_t*)RX_ADDRESS3,1);            //写RX节点
 936              		.loc 1 234 5 view .LVU193
 937 0092 2021     		movs	r1, #32
 938 0094 3420     		movs	r0, #52
 939 0096 FFF7FEFF 		bl	NRF24L01_Write_Reg
 940              	.LVL102:
 235:Core/Src/NRF24L01.c ****     break;
 941              		.loc 1 235 5 view .LVU194
 942 009a 0122     		movs	r2, #1
 943 009c 0B49     		ldr	r1, .L67+16
 944 009e 2D20     		movs	r0, #45
 945 00a0 FFF7FEFF 		bl	NRF24L01_Write_Buf
 946              	.LVL103:
 236:Core/Src/NRF24L01.c ****   default:                                                                           //默认通道
 947              		.loc 1 236 5 view .LVU195
 948 00a4 C3E7     		b	.L65
 949              	.L59:
 238:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS0,RX_ADR_WIDTH); //写RX节点
 950              		.loc 1 238 5 view .LVU196
 951 00a6 2021     		movs	r1, #32
 952 00a8 3120     		movs	r0, #49
 953 00aa FFF7FEFF 		bl	NRF24L01_Write_Reg
 954              	.LVL104:
 239:Core/Src/NRF24L01.c ****     break;
 955              		.loc 1 239 5 view .LVU197
 956 00ae 0522     		movs	r2, #5
 957 00b0 0349     		ldr	r1, .L67+4
 958 00b2 2A20     		movs	r0, #42
 959 00b4 FFF7FEFF 		bl	NRF24L01_Write_Buf
 960              	.LVL105:
 240:Core/Src/NRF24L01.c ****   }	  
 961              		.loc 1 240 5 view .LVU198
 962 00b8 B9E7     		b	.L65
 963              	.L68:
 964 00ba 00BF     		.align	2
 965              	.L67:
 966 00bc 00040240 		.word	1073873920
 967 00c0 00000000 		.word	.LANCHOR0
 968 00c4 00000000 		.word	.LANCHOR1
 969 00c8 00000000 		.word	.LANCHOR2
 970 00cc 00000000 		.word	.LANCHOR3
 971              		.cfi_endproc
 972              	.LFE141:
 974              		.section	.text.NRF24L01_RX_Mode_Master,"ax",%progbits
 975              		.align	1
 976              		.global	NRF24L01_RX_Mode_Master
 977              		.syntax unified
 978              		.thumb
 979              		.thumb_func
 980              		.fpu fpv4-sp-d16
 982              	NRF24L01_RX_Mode_Master:
 983              	.LFB142:
 252:Core/Src/NRF24L01.c **** 
 253:Core/Src/NRF24L01.c **** /**
 254:Core/Src/NRF24L01.c ****   * 函数功能: 该函数初始化NRF24L01到主机RX模式
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 24


 255:Core/Src/NRF24L01.c ****   * 输入参数: 无
 256:Core/Src/NRF24L01.c ****   * 返 回 值: 无
 257:Core/Src/NRF24L01.c ****   * 说    明：无
 258:Core/Src/NRF24L01.c ****   *           
 259:Core/Src/NRF24L01.c ****   */ 
 260:Core/Src/NRF24L01.c **** void NRF24L01_RX_Mode_Master(void)
 261:Core/Src/NRF24L01.c **** {
 984              		.loc 1 261 1 view -0
 985              		.cfi_startproc
 986              		@ args = 0, pretend = 0, frame = 0
 987              		@ frame_needed = 0, uses_anonymous_args = 0
 988 0000 10B5     		push	{r4, lr}
 989              	.LCFI14:
 990              		.cfi_def_cfa_offset 8
 991              		.cfi_offset 4, -8
 992              		.cfi_offset 14, -4
 262:Core/Src/NRF24L01.c **** 	NRF24L01_CE_LOW();
 993              		.loc 1 262 2 view .LVU200
 994 0002 244C     		ldr	r4, .L71
 995 0004 0022     		movs	r2, #0
 996 0006 4FF48061 		mov	r1, #1024
 997 000a 2046     		mov	r0, r4
 998 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
 999              	.LVL106:
 263:Core/Src/NRF24L01.c ****   NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS0,RX_ADR_WIDTH); //写RX节点地
 1000              		.loc 1 263 3 view .LVU201
 1001 0010 0522     		movs	r2, #5
 1002 0012 2149     		ldr	r1, .L71+4
 1003 0014 2A20     		movs	r0, #42
 1004 0016 FFF7FEFF 		bl	NRF24L01_Write_Buf
 1005              	.LVL107:
 264:Core/Src/NRF24L01.c ****   NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P1,(uint8_t*)RX_ADDRESS1,RX_ADR_WIDTH); //写RX节点地
 1006              		.loc 1 264 3 view .LVU202
 1007 001a 0522     		movs	r2, #5
 1008 001c 1F49     		ldr	r1, .L71+8
 1009 001e 2B20     		movs	r0, #43
 1010 0020 FFF7FEFF 		bl	NRF24L01_Write_Buf
 1011              	.LVL108:
 265:Core/Src/NRF24L01.c ****   NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P2,(uint8_t*)RX_ADDRESS2,1);            //写RX节点地
 1012              		.loc 1 265 3 view .LVU203
 1013 0024 0122     		movs	r2, #1
 1014 0026 1E49     		ldr	r1, .L71+12
 1015 0028 2C20     		movs	r0, #44
 1016 002a FFF7FEFF 		bl	NRF24L01_Write_Buf
 1017              	.LVL109:
 266:Core/Src/NRF24L01.c ****   NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P3,(uint8_t*)RX_ADDRESS3,1);            //写RX节点地
 1018              		.loc 1 266 3 view .LVU204
 1019 002e 0122     		movs	r2, #1
 1020 0030 1C49     		ldr	r1, .L71+16
 1021 0032 2D20     		movs	r0, #45
 1022 0034 FFF7FEFF 		bl	NRF24L01_Write_Buf
 1023              	.LVL110:
 267:Core/Src/NRF24L01.c **** 
 268:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RX_PW_P0,RX_PLOAD_WIDTH);                       //选择通道0
 1024              		.loc 1 268 3 view .LVU205
 1025 0038 2021     		movs	r1, #32
 1026 003a 3120     		movs	r0, #49
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 25


 1027 003c FFF7FEFF 		bl	NRF24L01_Write_Reg
 1028              	.LVL111:
 269:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RX_PW_P1,RX_PLOAD_WIDTH);                       //选择通道1
 1029              		.loc 1 269 3 view .LVU206
 1030 0040 2021     		movs	r1, #32
 1031 0042 3220     		movs	r0, #50
 1032 0044 FFF7FEFF 		bl	NRF24L01_Write_Reg
 1033              	.LVL112:
 270:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RX_PW_P2,RX_PLOAD_WIDTH);                       //选择通道2
 1034              		.loc 1 270 3 view .LVU207
 1035 0048 2021     		movs	r1, #32
 1036 004a 3320     		movs	r0, #51
 1037 004c FFF7FEFF 		bl	NRF24L01_Write_Reg
 1038              	.LVL113:
 271:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RX_PW_P3,RX_PLOAD_WIDTH);                       //选择通道3
 1039              		.loc 1 271 3 view .LVU208
 1040 0050 2021     		movs	r1, #32
 1041 0052 3420     		movs	r0, #52
 1042 0054 FFF7FEFF 		bl	NRF24L01_Write_Reg
 1043              	.LVL114:
 272:Core/Src/NRF24L01.c **** 	  
 273:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+CONFIG, 0x0F);   //配置基本工作模式的参数;PWR_UP,EN_C
 1044              		.loc 1 273 3 view .LVU209
 1045 0058 0F21     		movs	r1, #15
 1046 005a 2020     		movs	r0, #32
 1047 005c FFF7FEFF 		bl	NRF24L01_Write_Reg
 1048              	.LVL115:
 274:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+EN_AA,0x0f);     //使能通道0~3的自动应答    
 1049              		.loc 1 274 3 view .LVU210
 1050 0060 0F21     		movs	r1, #15
 1051 0062 2120     		movs	r0, #33
 1052 0064 FFF7FEFF 		bl	NRF24L01_Write_Reg
 1053              	.LVL116:
 275:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+EN_RXADDR,0x0f); //使能通道0~3的接收地址  	 
 1054              		.loc 1 275 3 view .LVU211
 1055 0068 0F21     		movs	r1, #15
 1056 006a 2220     		movs	r0, #34
 1057 006c FFF7FEFF 		bl	NRF24L01_Write_Reg
 1058              	.LVL117:
 276:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RF_CH,40);	      //设置RF通信频率		  
 1059              		.loc 1 276 3 view .LVU212
 1060 0070 2821     		movs	r1, #40
 1061 0072 2520     		movs	r0, #37
 1062 0074 FFF7FEFF 		bl	NRF24L01_Write_Reg
 1063              	.LVL118:
 277:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RF_SETUP,0x0f);  //设置TX发射参数,0db增益,2Mbps,低噪
 1064              		.loc 1 277 3 view .LVU213
 1065 0078 0F21     		movs	r1, #15
 1066 007a 2620     		movs	r0, #38
 1067 007c FFF7FEFF 		bl	NRF24L01_Write_Reg
 1068              	.LVL119:
 278:Core/Src/NRF24L01.c ****   
 279:Core/Src/NRF24L01.c **** 	
 280:Core/Src/NRF24L01.c ****   NRF24L01_CE_HIGH(); //CE为高,进入接收模式 
 1069              		.loc 1 280 3 view .LVU214
 1070 0080 0122     		movs	r2, #1
 1071 0082 4FF48061 		mov	r1, #1024
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 26


 1072 0086 2046     		mov	r0, r4
 1073 0088 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1074              	.LVL120:
 281:Core/Src/NRF24L01.c ****   HAL_Delay(1);
 1075              		.loc 1 281 3 view .LVU215
 1076 008c 0120     		movs	r0, #1
 1077 008e FFF7FEFF 		bl	HAL_Delay
 1078              	.LVL121:
 282:Core/Src/NRF24L01.c **** }
 1079              		.loc 1 282 1 is_stmt 0 view .LVU216
 1080 0092 10BD     		pop	{r4, pc}
 1081              	.L72:
 1082              		.align	2
 1083              	.L71:
 1084 0094 00040240 		.word	1073873920
 1085 0098 00000000 		.word	.LANCHOR0
 1086 009c 00000000 		.word	.LANCHOR1
 1087 00a0 00000000 		.word	.LANCHOR2
 1088 00a4 00000000 		.word	.LANCHOR3
 1089              		.cfi_endproc
 1090              	.LFE142:
 1092              		.section	.text.NRF24L01_TX_Mode,"ax",%progbits
 1093              		.align	1
 1094              		.global	NRF24L01_TX_Mode
 1095              		.syntax unified
 1096              		.thumb
 1097              		.thumb_func
 1098              		.fpu fpv4-sp-d16
 1100              	NRF24L01_TX_Mode:
 1101              	.LVL122:
 1102              	.LFB143:
 283:Core/Src/NRF24L01.c **** 
 284:Core/Src/NRF24L01.c **** 
 285:Core/Src/NRF24L01.c **** /**
 286:Core/Src/NRF24L01.c ****   * 函数功能: 该函数初始化NRF24L01到TX模式
 287:Core/Src/NRF24L01.c ****   * 输入参数: 通道号0~3
 288:Core/Src/NRF24L01.c ****   * 返 回 值: 无
 289:Core/Src/NRF24L01.c ****   * 说    明：无
 290:Core/Src/NRF24L01.c ****   *           
 291:Core/Src/NRF24L01.c ****   */ 
 292:Core/Src/NRF24L01.c **** void NRF24L01_TX_Mode(uint8_t channel)
 293:Core/Src/NRF24L01.c **** {														 
 1103              		.loc 1 293 1 is_stmt 1 view -0
 1104              		.cfi_startproc
 1105              		@ args = 0, pretend = 0, frame = 0
 1106              		@ frame_needed = 0, uses_anonymous_args = 0
 1107              		.loc 1 293 1 is_stmt 0 view .LVU218
 1108 0000 10B5     		push	{r4, lr}
 1109              	.LCFI15:
 1110              		.cfi_def_cfa_offset 8
 1111              		.cfi_offset 4, -8
 1112              		.cfi_offset 14, -4
 1113 0002 0446     		mov	r4, r0
 294:Core/Src/NRF24L01.c **** 	NRF24L01_CE_LOW();
 1114              		.loc 1 294 2 is_stmt 1 view .LVU219
 1115 0004 0022     		movs	r2, #0
 1116 0006 4FF48061 		mov	r1, #1024
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 27


 1117 000a 3048     		ldr	r0, .L82
 1118              	.LVL123:
 1119              		.loc 1 294 2 is_stmt 0 view .LVU220
 1120 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
 1121              	.LVL124:
 295:Core/Src/NRF24L01.c ****   switch (channel)
 1122              		.loc 1 295 3 is_stmt 1 view .LVU221
 1123 0010 032C     		cmp	r4, #3
 1124 0012 50D8     		bhi	.L74
 1125 0014 DFE804F0 		tbb	[pc, r4]
 1126              	.L76:
 1127 0018 02       		.byte	(.L79-.L76)/2
 1128 0019 2E       		.byte	(.L78-.L76)/2
 1129 001a 39       		.byte	(.L77-.L76)/2
 1130 001b 44       		.byte	(.L75-.L76)/2
 1131              		.p2align 1
 1132              	.L79:
 296:Core/Src/NRF24L01.c ****   {
 297:Core/Src/NRF24L01.c ****   case 0:                                                                            //通道0
 298:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+TX_ADDR,(uint8_t*)TX_ADDRESS0,TX_ADR_WIDTH);    //写TX节点
 1133              		.loc 1 298 5 view .LVU222
 1134 001c 0522     		movs	r2, #5
 1135 001e 2C49     		ldr	r1, .L82+4
 1136 0020 3020     		movs	r0, #48
 1137 0022 FFF7FEFF 		bl	NRF24L01_Write_Buf
 1138              	.LVL125:
 299:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS0,RX_ADR_WIDTH); //设置RX节
 1139              		.loc 1 299 5 view .LVU223
 1140 0026 0522     		movs	r2, #5
 1141 0028 2A49     		ldr	r1, .L82+8
 1142 002a 2A20     		movs	r0, #42
 1143 002c FFF7FEFF 		bl	NRF24L01_Write_Buf
 1144              	.LVL126:
 300:Core/Src/NRF24L01.c ****     break;
 1145              		.loc 1 300 5 view .LVU224
 1146              	.L80:
 301:Core/Src/NRF24L01.c ****   case 1:                                                                            //通道1
 302:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+TX_ADDR,(uint8_t*)TX_ADDRESS1,TX_ADR_WIDTH);    //写TX节点
 303:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS1,RX_ADR_WIDTH); //设置RX节
 304:Core/Src/NRF24L01.c ****     break;
 305:Core/Src/NRF24L01.c ****   case 2:                                                                            //通道2
 306:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+TX_ADDR,(uint8_t*)TX_ADDRESS2,TX_ADR_WIDTH);    //写TX节点
 307:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS2,RX_ADR_WIDTH); //设置RX节
 308:Core/Src/NRF24L01.c ****     break;
 309:Core/Src/NRF24L01.c ****   case 3:                                                                            //通道3
 310:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+TX_ADDR,(uint8_t*)TX_ADDRESS3,TX_ADR_WIDTH);    //写TX节点
 311:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS3,RX_ADR_WIDTH); //设置RX节
 312:Core/Src/NRF24L01.c ****     break;
 313:Core/Src/NRF24L01.c ****   default:                                                                           //默认通道
 314:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+TX_ADDR,(uint8_t*)TX_ADDRESS0,1);               //写TX节点
 315:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS0,TX_ADR_WIDTH); //设置RX节
 316:Core/Src/NRF24L01.c ****     break;
 317:Core/Src/NRF24L01.c ****   }	    
 318:Core/Src/NRF24L01.c **** 	  
 319:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+EN_AA,0x01);     //使能通道0的自动应答    
 1147              		.loc 1 319 3 view .LVU225
 1148 0030 0121     		movs	r1, #1
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 28


 1149 0032 2120     		movs	r0, #33
 1150 0034 FFF7FEFF 		bl	NRF24L01_Write_Reg
 1151              	.LVL127:
 320:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+EN_RXADDR,0x01); //使能通道0的接收地址  
 1152              		.loc 1 320 3 view .LVU226
 1153 0038 0121     		movs	r1, #1
 1154 003a 2220     		movs	r0, #34
 1155 003c FFF7FEFF 		bl	NRF24L01_Write_Reg
 1156              	.LVL128:
 321:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+SETUP_RETR,0xff);//设置自动重发间隔时间:4000us + 86us;
 1157              		.loc 1 321 3 view .LVU227
 1158 0040 FF21     		movs	r1, #255
 1159 0042 2420     		movs	r0, #36
 1160 0044 FFF7FEFF 		bl	NRF24L01_Write_Reg
 1161              	.LVL129:
 322:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RF_CH,40);       //设置RF通道为40
 1162              		.loc 1 322 3 view .LVU228
 1163 0048 2821     		movs	r1, #40
 1164 004a 2520     		movs	r0, #37
 1165 004c FFF7FEFF 		bl	NRF24L01_Write_Reg
 1166              	.LVL130:
 323:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+RF_SETUP,0x0f);  //设置TX发射参数,0db增益,2Mbps,低噪
 1167              		.loc 1 323 3 view .LVU229
 1168 0050 0F21     		movs	r1, #15
 1169 0052 2620     		movs	r0, #38
 1170 0054 FFF7FEFF 		bl	NRF24L01_Write_Reg
 1171              	.LVL131:
 324:Core/Src/NRF24L01.c ****   NRF24L01_Write_Reg(NRF_WRITE_REG+CONFIG,0x0e);    //配置基本工作模式的参数;PWR_UP,EN_C
 1172              		.loc 1 324 3 view .LVU230
 1173 0058 0E21     		movs	r1, #14
 1174 005a 2020     		movs	r0, #32
 1175 005c FFF7FEFF 		bl	NRF24L01_Write_Reg
 1176              	.LVL132:
 325:Core/Src/NRF24L01.c **** 	NRF24L01_CE_HIGH();//CE为高,10us后启动发送
 1177              		.loc 1 325 2 view .LVU231
 1178 0060 0122     		movs	r2, #1
 1179 0062 4FF48061 		mov	r1, #1024
 1180 0066 1948     		ldr	r0, .L82
 1181 0068 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1182              	.LVL133:
 326:Core/Src/NRF24L01.c ****   HAL_Delay(1);
 1183              		.loc 1 326 3 view .LVU232
 1184 006c 0120     		movs	r0, #1
 1185 006e FFF7FEFF 		bl	HAL_Delay
 1186              	.LVL134:
 327:Core/Src/NRF24L01.c **** }
 1187              		.loc 1 327 1 is_stmt 0 view .LVU233
 1188 0072 10BD     		pop	{r4, pc}
 1189              	.L78:
 302:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS1,RX_ADR_WIDTH); //设置RX节
 1190              		.loc 1 302 5 is_stmt 1 view .LVU234
 1191 0074 0522     		movs	r2, #5
 1192 0076 1849     		ldr	r1, .L82+12
 1193 0078 3020     		movs	r0, #48
 1194 007a FFF7FEFF 		bl	NRF24L01_Write_Buf
 1195              	.LVL135:
 303:Core/Src/NRF24L01.c ****     break;
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 29


 1196              		.loc 1 303 5 view .LVU235
 1197 007e 0522     		movs	r2, #5
 1198 0080 1649     		ldr	r1, .L82+16
 1199 0082 2A20     		movs	r0, #42
 1200 0084 FFF7FEFF 		bl	NRF24L01_Write_Buf
 1201              	.LVL136:
 304:Core/Src/NRF24L01.c ****   case 2:                                                                            //通道2
 1202              		.loc 1 304 5 view .LVU236
 1203 0088 D2E7     		b	.L80
 1204              	.L77:
 306:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS2,RX_ADR_WIDTH); //设置RX节
 1205              		.loc 1 306 5 view .LVU237
 1206 008a 0522     		movs	r2, #5
 1207 008c 1449     		ldr	r1, .L82+20
 1208 008e 3020     		movs	r0, #48
 1209 0090 FFF7FEFF 		bl	NRF24L01_Write_Buf
 1210              	.LVL137:
 307:Core/Src/NRF24L01.c ****     break;
 1211              		.loc 1 307 5 view .LVU238
 1212 0094 0522     		movs	r2, #5
 1213 0096 1349     		ldr	r1, .L82+24
 1214 0098 2A20     		movs	r0, #42
 1215 009a FFF7FEFF 		bl	NRF24L01_Write_Buf
 1216              	.LVL138:
 308:Core/Src/NRF24L01.c ****   case 3:                                                                            //通道3
 1217              		.loc 1 308 5 view .LVU239
 1218 009e C7E7     		b	.L80
 1219              	.L75:
 310:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS3,RX_ADR_WIDTH); //设置RX节
 1220              		.loc 1 310 5 view .LVU240
 1221 00a0 0522     		movs	r2, #5
 1222 00a2 1149     		ldr	r1, .L82+28
 1223 00a4 3020     		movs	r0, #48
 1224 00a6 FFF7FEFF 		bl	NRF24L01_Write_Buf
 1225              	.LVL139:
 311:Core/Src/NRF24L01.c ****     break;
 1226              		.loc 1 311 5 view .LVU241
 1227 00aa 0522     		movs	r2, #5
 1228 00ac 0F49     		ldr	r1, .L82+32
 1229 00ae 2A20     		movs	r0, #42
 1230 00b0 FFF7FEFF 		bl	NRF24L01_Write_Buf
 1231              	.LVL140:
 312:Core/Src/NRF24L01.c ****   default:                                                                           //默认通道
 1232              		.loc 1 312 5 view .LVU242
 1233 00b4 BCE7     		b	.L80
 1234              	.L74:
 314:Core/Src/NRF24L01.c ****     NRF24L01_Write_Buf(NRF_WRITE_REG+RX_ADDR_P0,(uint8_t*)RX_ADDRESS0,TX_ADR_WIDTH); //设置RX节
 1235              		.loc 1 314 5 view .LVU243
 1236 00b6 0122     		movs	r2, #1
 1237 00b8 0549     		ldr	r1, .L82+4
 1238 00ba 3020     		movs	r0, #48
 1239 00bc FFF7FEFF 		bl	NRF24L01_Write_Buf
 1240              	.LVL141:
 315:Core/Src/NRF24L01.c ****     break;
 1241              		.loc 1 315 5 view .LVU244
 1242 00c0 0522     		movs	r2, #5
 1243 00c2 0449     		ldr	r1, .L82+8
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 30


 1244 00c4 2A20     		movs	r0, #42
 1245 00c6 FFF7FEFF 		bl	NRF24L01_Write_Buf
 1246              	.LVL142:
 316:Core/Src/NRF24L01.c ****   }	    
 1247              		.loc 1 316 5 view .LVU245
 1248 00ca B1E7     		b	.L80
 1249              	.L83:
 1250              		.align	2
 1251              	.L82:
 1252 00cc 00040240 		.word	1073873920
 1253 00d0 00000000 		.word	.LANCHOR4
 1254 00d4 00000000 		.word	.LANCHOR0
 1255 00d8 00000000 		.word	.LANCHOR5
 1256 00dc 00000000 		.word	.LANCHOR1
 1257 00e0 00000000 		.word	.LANCHOR6
 1258 00e4 00000000 		.word	.LANCHOR2
 1259 00e8 00000000 		.word	.LANCHOR7
 1260 00ec 00000000 		.word	.LANCHOR3
 1261              		.cfi_endproc
 1262              	.LFE143:
 1264              		.global	RX_ADDRESS3
 1265              		.global	RX_ADDRESS2
 1266              		.global	RX_ADDRESS1
 1267              		.global	RX_ADDRESS0
 1268              		.global	TX_ADDRESS3
 1269              		.global	TX_ADDRESS2
 1270              		.global	TX_ADDRESS1
 1271              		.global	TX_ADDRESS0
 1272              		.section	.rodata.RX_ADDRESS0,"a"
 1273              		.align	2
 1274              		.set	.LANCHOR0,. + 0
 1277              	RX_ADDRESS0:
 1278 0000 B0431010 		.ascii	"\260C\020\020\001"
 1278      01
 1279              		.section	.rodata.RX_ADDRESS1,"a"
 1280              		.align	2
 1281              		.set	.LANCHOR1,. + 0
 1284              	RX_ADDRESS1:
 1285 0000 C1AAA0A0 		.ascii	"\301\252\240\240\002"
 1285      02
 1286              		.section	.rodata.RX_ADDRESS2,"a"
 1287              		.align	2
 1288              		.set	.LANCHOR2,. + 0
 1291              	RX_ADDRESS2:
 1292 0000 D1AAA0A0 		.ascii	"\321\252\240\240\002"
 1292      02
 1293              		.section	.rodata.RX_ADDRESS3,"a"
 1294              		.align	2
 1295              		.set	.LANCHOR3,. + 0
 1298              	RX_ADDRESS3:
 1299 0000 E1AAA0A0 		.ascii	"\341\252\240\240\002"
 1299      02
 1300              		.section	.rodata.TX_ADDRESS0,"a"
 1301              		.align	2
 1302              		.set	.LANCHOR4,. + 0
 1305              	TX_ADDRESS0:
 1306 0000 B0431010 		.ascii	"\260C\020\020\001"
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 31


 1306      01
 1307              		.section	.rodata.TX_ADDRESS1,"a"
 1308              		.align	2
 1309              		.set	.LANCHOR5,. + 0
 1312              	TX_ADDRESS1:
 1313 0000 C1AAA0A0 		.ascii	"\301\252\240\240\002"
 1313      02
 1314              		.section	.rodata.TX_ADDRESS2,"a"
 1315              		.align	2
 1316              		.set	.LANCHOR6,. + 0
 1319              	TX_ADDRESS2:
 1320 0000 D1AAA0A0 		.ascii	"\321\252\240\240\002"
 1320      02
 1321              		.section	.rodata.TX_ADDRESS3,"a"
 1322              		.align	2
 1323              		.set	.LANCHOR7,. + 0
 1326              	TX_ADDRESS3:
 1327 0000 E1AAA0A0 		.ascii	"\341\252\240\240\002"
 1327      02
 1328              		.text
 1329              	.Letext0:
 1330              		.file 2 "d:\\vs_code_stm32\\9 2019-q4-major\\arm-none-eabi\\include\\machine\\_default_types.h"
 1331              		.file 3 "d:\\vs_code_stm32\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 1332              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 1333              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 1334              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xc.h"
 1335              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1336              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 1337              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1338              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 1339              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 1340              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 1341              		.file 13 "Core/Inc/usart.h"
 1342              		.file 14 "d:\\vs_code_stm32\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\lock.h"
 1343              		.file 15 "d:\\vs_code_stm32\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\_types.h"
 1344              		.file 16 "d:\\vs_code_stm32\\9 2019-q4-major\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\stddef.h"
 1345              		.file 17 "d:\\vs_code_stm32\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\reent.h"
 1346              		.file 18 "Core/Inc/NRF24L01.h"
 1347              		.file 19 "<built-in>"
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 32


DEFINED SYMBOLS
                            *ABS*:00000000 NRF24L01.c
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:18     .text.SPIx_ReadWriteByte:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:26     .text.SPIx_ReadWriteByte:00000000 SPIx_ReadWriteByte
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:75     .text.NRF24L01_Write_Reg:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:82     .text.NRF24L01_Write_Reg:00000000 NRF24L01_Write_Reg
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:142    .text.NRF24L01_Write_Reg:00000038 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:148    .text.NRF24L01_Read_Reg:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:155    .text.NRF24L01_Read_Reg:00000000 NRF24L01_Read_Reg
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:210    .text.NRF24L01_Read_Reg:00000038 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:216    .text.NRF24L01_Read_Buf:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:223    .text.NRF24L01_Read_Buf:00000000 NRF24L01_Read_Buf
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:306    .text.NRF24L01_Read_Buf:00000044 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:312    .text.NRF24L01_Write_Buf:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:319    .text.NRF24L01_Write_Buf:00000000 NRF24L01_Write_Buf
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:403    .text.NRF24L01_Write_Buf:00000044 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:409    .rodata.NRF24L01_Check.str1.4:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:413    .text.NRF24L01_Check:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:420    .text.NRF24L01_Check:00000000 NRF24L01_Check
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:502    .text.NRF24L01_Check:0000004c $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:507    .rodata.NRF24L01_TxPacket.str1.4:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:517    .text.NRF24L01_TxPacket:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:524    .text.NRF24L01_TxPacket:00000000 NRF24L01_TxPacket
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:632    .text.NRF24L01_TxPacket:00000078 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:641    .rodata.NRF24L01_RxPacket.str1.4:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:660    .text.NRF24L01_RxPacket:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:667    .text.NRF24L01_RxPacket:00000000 NRF24L01_RxPacket
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:710    .text.NRF24L01_RxPacket:00000026 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:807    .text.NRF24L01_RxPacket:0000009c $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:817    .text.NRF24L01_RX_Mode:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:824    .text.NRF24L01_RX_Mode:00000000 NRF24L01_RX_Mode
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:851    .text.NRF24L01_RX_Mode:00000018 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:855    .text.NRF24L01_RX_Mode:0000001c $t
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:966    .text.NRF24L01_RX_Mode:000000bc $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:975    .text.NRF24L01_RX_Mode_Master:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:982    .text.NRF24L01_RX_Mode_Master:00000000 NRF24L01_RX_Mode_Master
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1084   .text.NRF24L01_RX_Mode_Master:00000094 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1093   .text.NRF24L01_TX_Mode:00000000 $t
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1100   .text.NRF24L01_TX_Mode:00000000 NRF24L01_TX_Mode
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1127   .text.NRF24L01_TX_Mode:00000018 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1131   .text.NRF24L01_TX_Mode:0000001c $t
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1252   .text.NRF24L01_TX_Mode:000000cc $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1298   .rodata.RX_ADDRESS3:00000000 RX_ADDRESS3
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1291   .rodata.RX_ADDRESS2:00000000 RX_ADDRESS2
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1284   .rodata.RX_ADDRESS1:00000000 RX_ADDRESS1
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1277   .rodata.RX_ADDRESS0:00000000 RX_ADDRESS0
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1326   .rodata.TX_ADDRESS3:00000000 TX_ADDRESS3
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1319   .rodata.TX_ADDRESS2:00000000 TX_ADDRESS2
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1312   .rodata.TX_ADDRESS1:00000000 TX_ADDRESS1
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1305   .rodata.TX_ADDRESS0:00000000 TX_ADDRESS0
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1273   .rodata.RX_ADDRESS0:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1280   .rodata.RX_ADDRESS1:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1287   .rodata.RX_ADDRESS2:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1294   .rodata.RX_ADDRESS3:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1301   .rodata.TX_ADDRESS0:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1308   .rodata.TX_ADDRESS1:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1315   .rodata.TX_ADDRESS2:00000000 $d
ARM GAS  C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s 			page 33


C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:1322   .rodata.TX_ADDRESS3:00000000 $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:717    .text.NRF24L01_RxPacket:0000002d $d
C:\Users\Kiana\AppData\Local\Temp\ccQRau4J.s:717    .text.NRF24L01_RxPacket:0000002e $t

UNDEFINED SYMBOLS
HAL_SPI_TransmitReceive
HAL_GPIO_WritePin
hspi2
HAL_GPIO_ReadPin
puts
HAL_Delay
